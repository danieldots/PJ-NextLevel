{"ast":null,"code":"/*!\n* Customized version of iScroll.js 0.0.5\n* It fixes bugs affecting its integration with fullpage.js\n*/\n\n/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\n  var rAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60);\n  };\n\n  var utils = function () {\n    var me = {};\n    var _elementStyle = document.createElement('div').style;\n\n    var _vendor = function () {\n      var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n          transform,\n          i = 0,\n          l = vendors.length;\n\n      for (; i < l; i++) {\n        transform = vendors[i] + 'ransform';\n        if (transform in _elementStyle) return vendors[i].substr(0, vendors[i].length - 1);\n      }\n\n      return false;\n    }();\n\n    function _prefixStyle(style) {\n      if (_vendor === false) return false;\n      if (_vendor === '') return style;\n      return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n    }\n\n    me.getTime = Date.now || function getTime() {\n      return new Date().getTime();\n    };\n\n    me.extend = function (target, obj) {\n      for (var i in obj) {\n        target[i] = obj[i];\n      }\n    };\n\n    me.addEvent = function (el, type, fn, capture) {\n      el.addEventListener(type, fn, !!capture);\n    };\n\n    me.removeEvent = function (el, type, fn, capture) {\n      el.removeEventListener(type, fn, !!capture);\n    };\n\n    me.prefixPointerEvent = function (pointerEvent) {\n      return window.MSPointerEvent ? 'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8) : pointerEvent;\n    };\n\n    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n      var distance = current - start,\n          speed = Math.abs(distance) / time,\n          destination,\n          duration;\n      deceleration = deceleration === undefined ? 0.0006 : deceleration;\n      destination = current + speed * speed / (2 * deceleration) * (distance < 0 ? -1 : 1);\n      duration = speed / deceleration;\n\n      if (destination < lowerMargin) {\n        destination = wrapperSize ? lowerMargin - wrapperSize / 2.5 * (speed / 8) : lowerMargin;\n        distance = Math.abs(destination - current);\n        duration = distance / speed;\n      } else if (destination > 0) {\n        destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\n        distance = Math.abs(current) + destination;\n        duration = distance / speed;\n      }\n\n      return {\n        destination: Math.round(destination),\n        duration: duration\n      };\n    };\n\n    var _transform = _prefixStyle('transform');\n\n    me.extend(me, {\n      hasTransform: _transform !== false,\n      hasPerspective: _prefixStyle('perspective') in _elementStyle,\n      hasTouch: 'ontouchstart' in window,\n      hasPointer: !!(window.PointerEvent || window.MSPointerEvent),\n      // IE10 is prefixed\n      hasTransition: _prefixStyle('transition') in _elementStyle\n    });\n    /*\n    This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n    - galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n    - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n    */\n\n    me.isBadAndroid = function () {\n      var appVersion = window.navigator.appVersion; // Android browser is not a chrome browser.\n\n      if (/Android/.test(appVersion) && !/Chrome\\/\\d/.test(appVersion)) {\n        var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n\n        if (safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n          return parseFloat(safariVersion[1]) < 535.19;\n        } else {\n          return true;\n        }\n      } else {\n        return false;\n      }\n    }();\n\n    me.extend(me.style = {}, {\n      transform: _transform,\n      transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n      transitionDuration: _prefixStyle('transitionDuration'),\n      transitionDelay: _prefixStyle('transitionDelay'),\n      transformOrigin: _prefixStyle('transformOrigin')\n    });\n\n    me.hasClass = function (e, c) {\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n      return re.test(e.className);\n    };\n\n    me.addClass = function (e, c) {\n      if (me.hasClass(e, c)) {\n        return;\n      }\n\n      var newclass = e.className.split(' ');\n      newclass.push(c);\n      e.className = newclass.join(' ');\n    };\n\n    me.removeClass = function (e, c) {\n      if (!me.hasClass(e, c)) {\n        return;\n      }\n\n      var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n      e.className = e.className.replace(re, ' ');\n    };\n\n    me.offset = function (el) {\n      var left = -el.offsetLeft,\n          top = -el.offsetTop; // jshint -W084\n\n      while (el = el.offsetParent) {\n        left -= el.offsetLeft;\n        top -= el.offsetTop;\n      } // jshint +W084\n\n\n      return {\n        left: left,\n        top: top\n      };\n    };\n\n    me.preventDefaultException = function (el, exceptions) {\n      for (var i in exceptions) {\n        if (exceptions[i].test(el[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    me.extend(me.eventType = {}, {\n      touchstart: 1,\n      touchmove: 1,\n      touchend: 1,\n      mousedown: 2,\n      mousemove: 2,\n      mouseup: 2,\n      pointerdown: 3,\n      pointermove: 3,\n      pointerup: 3,\n      MSPointerDown: 3,\n      MSPointerMove: 3,\n      MSPointerUp: 3\n    });\n    me.extend(me.ease = {}, {\n      quadratic: {\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n        fn: function (k) {\n          return k * (2 - k);\n        }\n      },\n      circular: {\n        style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\n        // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n        fn: function (k) {\n          return Math.sqrt(1 - --k * k);\n        }\n      },\n      back: {\n        style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        fn: function (k) {\n          var b = 4;\n          return (k = k - 1) * k * ((b + 1) * k + b) + 1;\n        }\n      },\n      bounce: {\n        style: '',\n        fn: function (k) {\n          if ((k /= 1) < 1 / 2.75) {\n            return 7.5625 * k * k;\n          } else if (k < 2 / 2.75) {\n            return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n          } else if (k < 2.5 / 2.75) {\n            return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n          } else {\n            return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n          }\n        }\n      },\n      elastic: {\n        style: '',\n        fn: function (k) {\n          var f = 0.22,\n              e = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k == 1) {\n            return 1;\n          }\n\n          return e * Math.pow(2, -10 * k) * Math.sin((k - f / 4) * (2 * Math.PI) / f) + 1;\n        }\n      }\n    });\n\n    me.tap = function (e, eventName) {\n      var ev = document.createEvent('Event');\n      ev.initEvent(eventName, true, true);\n      ev.pageX = e.pageX;\n      ev.pageY = e.pageY;\n      e.target.dispatchEvent(ev);\n    };\n\n    me.click = function (e) {\n      var target = e.target,\n          ev;\n\n      if (!/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n        // initMouseEvent is deprecated.\n        ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n        ev.initEvent('click', true, true);\n        ev.view = e.view || window;\n        ev.detail = 1;\n        ev.screenX = target.screenX || 0;\n        ev.screenY = target.screenY || 0;\n        ev.clientX = target.clientX || 0;\n        ev.clientY = target.clientY || 0;\n        ev.ctrlKey = !!e.ctrlKey;\n        ev.altKey = !!e.altKey;\n        ev.shiftKey = !!e.shiftKey;\n        ev.metaKey = !!e.metaKey;\n        ev.button = 0;\n        ev.relatedTarget = null;\n        ev._constructed = true;\n        target.dispatchEvent(ev);\n      }\n    };\n\n    return me;\n  }();\n\n  function IScroll(el, options) {\n    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n    this.scroller = this.wrapper.children[0];\n    this.scrollerStyle = this.scroller.style; // cache style for better performance\n\n    this.options = {\n      resizeScrollbars: true,\n      mouseWheelSpeed: 20,\n      snapThreshold: 0.334,\n      // INSERT POINT: OPTIONS\n      disablePointer: !utils.hasPointer,\n      disableTouch: utils.hasPointer || !utils.hasTouch,\n      disableMouse: utils.hasPointer || utils.hasTouch,\n      startX: 0,\n      startY: 0,\n      scrollY: true,\n      directionLockThreshold: 5,\n      momentum: true,\n      bounce: true,\n      bounceTime: 600,\n      bounceEasing: '',\n      preventDefault: true,\n      preventDefaultException: {\n        tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/\n      },\n      HWCompositing: true,\n      useTransition: true,\n      useTransform: true,\n      bindToWrapper: typeof window.onmousedown === \"undefined\"\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    } // Normalize options\n\n\n    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n    this.options.useTransition = utils.hasTransition && this.options.useTransition;\n    this.options.useTransform = utils.hasTransform && this.options.useTransform;\n    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault; // If you want eventPassthrough I have to lock one of the axes\n\n    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX; // With eventPassthrough we also need lockDirection mechanism\n\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    } // https://github.com/cubiq/iscroll/issues/1029\n\n\n    if (!this.options.useTransition && !this.options.useTransform) {\n      if (!/relative|absolute/i.test(this.scrollerStyle.position)) {\n        this.scrollerStyle.position = \"relative\";\n      }\n    }\n\n    if (this.options.shrinkScrollbars == 'scale') {\n      this.options.useTransition = false;\n    }\n\n    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1; // INSERT POINT: NORMALIZATION\n    // Some defaults\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this._events = {}; // INSERT POINT: DEFAULTS\n\n    this._init();\n\n    this.refresh();\n    this.scrollTo(this.options.startX, this.options.startY);\n    this.enable();\n  }\n\n  IScroll.prototype = {\n    version: '5.2.0',\n    _init: function () {\n      this._initEvents();\n\n      if (this.options.scrollbars || this.options.indicators) {\n        this._initIndicators();\n      }\n\n      if (this.options.mouseWheel) {\n        this._initWheel();\n      }\n\n      if (this.options.snap) {\n        this._initSnap();\n      }\n\n      if (this.options.keyBindings) {\n        this._initKeys();\n      } // INSERT POINT: _init\n\n    },\n    destroy: function () {\n      this._initEvents(true);\n\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = null;\n\n      this._execEvent('destroy');\n    },\n    _transitionEnd: function (e) {\n      if (e.target != this.scroller || !this.isInTransition) {\n        return;\n      }\n\n      this._transitionTime();\n\n      if (!this.resetPosition(this.options.bounceTime)) {\n        this.isInTransition = false;\n\n        this._execEvent('scrollEnd');\n      }\n    },\n    _start: function (e) {\n      // React to left mouse button only\n      if (utils.eventType[e.type] != 1) {\n        // for button property\n        // http://unixpapa.com/js/mouse.html\n        var button;\n\n        if (!e.which) {\n          /* IE case */\n          button = e.button < 2 ? 0 : e.button == 4 ? 1 : 2;\n        } else {\n          /* All others */\n          button = e.button;\n        }\n\n        if (button !== 0) {\n          return;\n        }\n      }\n\n      if (!this.enabled || this.initiated && utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          pos;\n      this.initiated = utils.eventType[e.type];\n      this.moved = false;\n      this.distX = 0;\n      this.distY = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.directionLocked = 0;\n      this.startTime = utils.getTime();\n\n      if (this.options.useTransition && this.isInTransition) {\n        this._transitionTime();\n\n        this.isInTransition = false;\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this._execEvent('scrollEnd');\n      } else if (!this.options.useTransition && this.isAnimating) {\n        this.isAnimating = false;\n\n        this._execEvent('scrollEnd');\n      }\n\n      this.startX = this.x;\n      this.startY = this.y;\n      this.absStartX = this.x;\n      this.absStartY = this.y;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n\n      this._execEvent('beforeScrollStart');\n    },\n    _move: function (e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault) {\n        // increases performance on Android? TODO: check!\n        e.preventDefault();\n      }\n\n      var point = e.touches ? e.touches[0] : e,\n          deltaX = point.pageX - this.pointX,\n          deltaY = point.pageY - this.pointY,\n          timestamp = utils.getTime(),\n          newX,\n          newY,\n          absDistX,\n          absDistY;\n      this.pointX = point.pageX;\n      this.pointY = point.pageY;\n      this.distX += deltaX;\n      this.distY += deltaY;\n      absDistX = Math.abs(this.distX);\n      absDistY = Math.abs(this.distY); // We need to move at least 10 pixels for the scrolling to initiate\n\n      if (timestamp - this.endTime > 300 && absDistX < 10 && absDistY < 10) {\n        return;\n      } // If you are scrolling in one direction lock the other\n\n\n      if (!this.directionLocked && !this.options.freeScroll) {\n        if (absDistX > absDistY + this.options.directionLockThreshold) {\n          this.directionLocked = 'h'; // lock horizontally\n        } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n          this.directionLocked = 'v'; // lock vertically\n        } else {\n          this.directionLocked = 'n'; // no lock\n        }\n      }\n\n      if (this.directionLocked == 'h') {\n        if (this.options.eventPassthrough == 'vertical') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'horizontal') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaY = 0;\n      } else if (this.directionLocked == 'v') {\n        if (this.options.eventPassthrough == 'horizontal') {\n          e.preventDefault();\n        } else if (this.options.eventPassthrough == 'vertical') {\n          this.initiated = false;\n          return;\n        }\n\n        deltaX = 0;\n      }\n\n      deltaX = this.hasHorizontalScroll ? deltaX : 0;\n      deltaY = this.hasVerticalScroll ? deltaY : 0;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY; // Slow down if outside of the boundaries\n\n      if (newX > 0 || newX < this.maxScrollX) {\n        newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n      }\n\n      if (newY > 0 || newY < this.maxScrollY) {\n        newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n      }\n\n      this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n      this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n      if (!this.moved) {\n        this._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n\n      this._translate(newX, newY);\n      /* REPLACE START: _move */\n\n\n      if (timestamp - this.startTime > 300) {\n        this.startTime = timestamp;\n        this.startX = this.x;\n        this.startY = this.y;\n      }\n      /* REPLACE END: _move */\n\n    },\n    _end: function (e) {\n      if (!this.enabled || utils.eventType[e.type] !== this.initiated) {\n        return;\n      }\n\n      if (this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException)) {\n        e.preventDefault();\n      }\n\n      var point = e.changedTouches ? e.changedTouches[0] : e,\n          momentumX,\n          momentumY,\n          duration = utils.getTime() - this.startTime,\n          newX = Math.round(this.x),\n          newY = Math.round(this.y),\n          distanceX = Math.abs(newX - this.startX),\n          distanceY = Math.abs(newY - this.startY),\n          time = 0,\n          easing = '';\n      this.isInTransition = 0;\n      this.initiated = 0;\n      this.endTime = utils.getTime(); // reset if we are outside of the boundaries\n\n      if (this.resetPosition(this.options.bounceTime)) {\n        return;\n      }\n\n      this.scrollTo(newX, newY); // ensures that the last position is rounded\n      // we scrolled less than 10 pixels\n\n      if (!this.moved) {\n        if (this.options.tap) {\n          utils.tap(e, this.options.tap);\n        }\n\n        if (this.options.click) {\n          utils.click(e);\n        }\n\n        this._execEvent('scrollCancel');\n\n        return;\n      }\n\n      if (this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100) {\n        this._execEvent('flick');\n\n        return;\n      } // start momentum animation if needed\n\n\n      if (this.options.momentum && duration < 300) {\n        momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : {\n          destination: newX,\n          duration: 0\n        };\n        momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : {\n          destination: newY,\n          duration: 0\n        };\n        newX = momentumX.destination;\n        newY = momentumY.destination;\n        time = Math.max(momentumX.duration, momentumY.duration);\n        this.isInTransition = 1;\n      }\n\n      if (this.options.snap) {\n        var snap = this._nearestSnap(newX, newY);\n\n        this.currentPage = snap;\n        time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n        newX = snap.x;\n        newY = snap.y;\n        this.directionX = 0;\n        this.directionY = 0;\n        easing = this.options.bounceEasing;\n      } // INSERT POINT: _end\n\n\n      if (newX != this.x || newY != this.y) {\n        // change easing function when scroller goes out of the boundaries\n        if (newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY) {\n          easing = utils.ease.quadratic;\n        }\n\n        this.scrollTo(newX, newY, time, easing);\n        return;\n      }\n\n      this._execEvent('scrollEnd');\n    },\n    _resize: function () {\n      var that = this;\n      clearTimeout(this.resizeTimeout);\n      this.resizeTimeout = setTimeout(function () {\n        that.refresh();\n      }, this.options.resizePolling);\n    },\n    resetPosition: function (time) {\n      var x = this.x,\n          y = this.y;\n      time = time || 0;\n\n      if (!this.hasHorizontalScroll || this.x > 0) {\n        x = 0;\n      } else if (this.x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (!this.hasVerticalScroll || this.y > 0) {\n        y = 0;\n      } else if (this.y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      if (x == this.x && y == this.y) {\n        return false;\n      }\n\n      this.scrollTo(x, y, time, this.options.bounceEasing);\n      return true;\n    },\n    disable: function () {\n      this.enabled = false;\n    },\n    enable: function () {\n      this.enabled = true;\n    },\n    refresh: function () {\n      var rf = this.wrapper.offsetHeight; // Force reflow\n\n      this.wrapperWidth = this.wrapper.clientWidth;\n      this.wrapperHeight = this.wrapper.clientHeight;\n      /* REPLACE START: refresh */\n\n      this.scrollerWidth = this.scroller.offsetWidth;\n      this.scrollerHeight = this.scroller.offsetHeight;\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      /* REPLACE END: refresh */\n\n      this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < 0;\n      this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < 0;\n\n      if (!this.hasHorizontalScroll) {\n        this.maxScrollX = 0;\n        this.scrollerWidth = this.wrapperWidth;\n      }\n\n      if (!this.hasVerticalScroll) {\n        this.maxScrollY = 0;\n        this.scrollerHeight = this.wrapperHeight;\n      }\n\n      this.endTime = 0;\n      this.directionX = 0;\n      this.directionY = 0;\n      this.wrapperOffset = utils.offset(this.wrapper);\n\n      this._execEvent('refresh');\n\n      this.resetPosition(); // INSERT POINT: _refresh\n    },\n    on: function (type, fn) {\n      if (!this._events[type]) {\n        this._events[type] = [];\n      }\n\n      this._events[type].push(fn);\n    },\n    off: function (type, fn) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var index = this._events[type].indexOf(fn);\n\n      if (index > -1) {\n        this._events[type].splice(index, 1);\n      }\n    },\n    _execEvent: function (type) {\n      if (!this._events[type]) {\n        return;\n      }\n\n      var i = 0,\n          l = this._events[type].length;\n\n      if (!l) {\n        return;\n      }\n\n      for (; i < l; i++) {\n        this._events[type][i].apply(this, [].slice.call(arguments, 1));\n      }\n    },\n    scrollBy: function (x, y, time, easing) {\n      x = this.x + x;\n      y = this.y + y;\n      time = time || 0;\n      this.scrollTo(x, y, time, easing);\n    },\n    scrollTo: function (x, y, time, easing) {\n      easing = easing || utils.ease.circular;\n      this.isInTransition = this.options.useTransition && time > 0;\n      var transitionType = this.options.useTransition && easing.style;\n\n      if (!time || transitionType) {\n        if (transitionType) {\n          this._transitionTimingFunction(easing.style);\n\n          this._transitionTime(time);\n        }\n\n        this._translate(x, y);\n      } else {\n        this._animate(x, y, time, easing.fn);\n      }\n    },\n    scrollToElement: function (el, time, offsetX, offsetY, easing) {\n      el = el.nodeType ? el : this.scroller.querySelector(el);\n\n      if (!el) {\n        return;\n      }\n\n      var pos = utils.offset(el);\n      pos.left -= this.wrapperOffset.left;\n      pos.top -= this.wrapperOffset.top; // if offsetX/Y are true we center the element to the screen\n\n      if (offsetX === true) {\n        offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n      }\n\n      if (offsetY === true) {\n        offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n      }\n\n      pos.left -= offsetX || 0;\n      pos.top -= offsetY || 0;\n      pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n      pos.top = pos.top > 0 ? 0 : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n      time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x - pos.left), Math.abs(this.y - pos.top)) : time;\n      this.scrollTo(pos.left, pos.top, time, easing);\n    },\n    _transitionTime: function (time) {\n      if (!this.options.useTransition) {\n        return;\n      }\n\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.scrollerStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.scrollerStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.scrollerStyle[durationProp] === '0.0001ms') {\n            self.scrollerStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTime(time);\n        }\n      } // INSERT POINT: _transitionTime\n\n    },\n    _transitionTimingFunction: function (easing) {\n      this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].transitionTimingFunction(easing);\n        }\n      } // INSERT POINT: _transitionTimingFunction\n\n    },\n    _translate: function (x, y) {\n      if (this.options.useTransform) {\n        /* REPLACE START: _translate */\n        this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n        /* REPLACE END: _translate */\n      } else {\n        x = Math.round(x);\n        y = Math.round(y);\n        this.scrollerStyle.left = x + 'px';\n        this.scrollerStyle.top = y + 'px';\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.indicators) {\n        for (var i = this.indicators.length; i--;) {\n          this.indicators[i].updatePosition();\n        }\n      } // INSERT POINT: _translate\n\n    },\n    _initEvents: function (remove) {\n      var eventType = remove ? utils.removeEvent : utils.addEvent,\n          target = this.options.bindToWrapper ? this.wrapper : window;\n      eventType(window, 'orientationchange', this);\n      eventType(window, 'resize', this);\n\n      if (this.options.click) {\n        eventType(this.wrapper, 'click', this, true);\n      }\n\n      if (!this.options.disableMouse) {\n        eventType(this.wrapper, 'mousedown', this);\n        eventType(target, 'mousemove', this);\n        eventType(target, 'mousecancel', this);\n        eventType(target, 'mouseup', this);\n      }\n\n      if (utils.hasPointer && !this.options.disablePointer) {\n        eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n        eventType(target, utils.prefixPointerEvent('pointermove'), this);\n        eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n        eventType(target, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (utils.hasTouch && !this.options.disableTouch) {\n        eventType(this.wrapper, 'touchstart', this);\n        eventType(target, 'touchmove', this);\n        eventType(target, 'touchcancel', this);\n        eventType(target, 'touchend', this);\n      }\n\n      eventType(this.scroller, 'transitionend', this);\n      eventType(this.scroller, 'webkitTransitionEnd', this);\n      eventType(this.scroller, 'oTransitionEnd', this);\n      eventType(this.scroller, 'MSTransitionEnd', this);\n    },\n    getComputedPosition: function () {\n      var matrix = window.getComputedStyle(this.scroller, null),\n          x,\n          y;\n\n      if (this.options.useTransform) {\n        matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n        x = +(matrix[12] || matrix[4]);\n        y = +(matrix[13] || matrix[5]);\n      } else {\n        x = +matrix.left.replace(/[^-\\d.]/g, '');\n        y = +matrix.top.replace(/[^-\\d.]/g, '');\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    },\n    _initIndicators: function () {\n      var interactive = this.options.interactiveScrollbars,\n          customStyle = typeof this.options.scrollbars != 'string',\n          indicators = [],\n          indicator;\n      var that = this;\n      this.indicators = [];\n\n      if (this.options.scrollbars) {\n        // Vertical scrollbar\n        if (this.options.scrollY) {\n          indicator = {\n            el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenX: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        } // Horizontal scrollbar\n\n\n        if (this.options.scrollX) {\n          indicator = {\n            el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n            interactive: interactive,\n            defaultScrollbars: true,\n            customStyle: customStyle,\n            resize: this.options.resizeScrollbars,\n            shrink: this.options.shrinkScrollbars,\n            fade: this.options.fadeScrollbars,\n            listenY: false\n          };\n          this.wrapper.appendChild(indicator.el);\n          indicators.push(indicator);\n        }\n      }\n\n      if (this.options.indicators) {\n        // TODO: check concat compatibility\n        indicators = indicators.concat(this.options.indicators);\n      }\n\n      for (var i = indicators.length; i--;) {\n        this.indicators.push(new Indicator(this, indicators[i]));\n      } // TODO: check if we can use array.map (wide compatibility and performance issues)\n\n\n      function _indicatorsMap(fn) {\n        if (that.indicators) {\n          for (var i = that.indicators.length; i--;) {\n            fn.call(that.indicators[i]);\n          }\n        }\n      }\n\n      if (this.options.fadeScrollbars) {\n        this.on('scrollEnd', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollCancel', function () {\n          _indicatorsMap(function () {\n            this.fade();\n          });\n        });\n        this.on('scrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1);\n          });\n        });\n        this.on('beforeScrollStart', function () {\n          _indicatorsMap(function () {\n            this.fade(1, true);\n          });\n        });\n      }\n\n      this.on('refresh', function () {\n        _indicatorsMap(function () {\n          this.refresh();\n        });\n      });\n      this.on('destroy', function () {\n        _indicatorsMap(function () {\n          this.destroy();\n        });\n\n        delete this.indicators;\n      });\n    },\n    _initWheel: function () {\n      utils.addEvent(this.wrapper, 'wheel', this);\n      utils.addEvent(this.wrapper, 'mousewheel', this);\n      utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n      this.on('destroy', function () {\n        clearTimeout(this.wheelTimeout);\n        this.wheelTimeout = null;\n        utils.removeEvent(this.wrapper, 'wheel', this);\n        utils.removeEvent(this.wrapper, 'mousewheel', this);\n        utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n      });\n    },\n    _wheel: function (e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      var wheelDeltaX,\n          wheelDeltaY,\n          newX,\n          newY,\n          that = this;\n\n      if (this.wheelTimeout === undefined) {\n        that._execEvent('scrollStart');\n      } // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n\n\n      clearTimeout(this.wheelTimeout);\n      this.wheelTimeout = setTimeout(function () {\n        if (!that.options.snap) {\n          that._execEvent('scrollEnd');\n        }\n\n        that.wheelTimeout = undefined;\n      }, 400);\n\n      if ('deltaX' in e) {\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n          wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n      } else if ('wheelDeltaX' in e) {\n        wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n        wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n      } else if ('wheelDelta' in e) {\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n      } else if ('detail' in e) {\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n      } else {\n        return;\n      }\n\n      wheelDeltaX *= this.options.invertWheelDirection;\n      wheelDeltaY *= this.options.invertWheelDirection;\n\n      if (!this.hasVerticalScroll) {\n        wheelDeltaX = wheelDeltaY;\n        wheelDeltaY = 0;\n      }\n\n      if (this.options.snap) {\n        newX = this.currentPage.pageX;\n        newY = this.currentPage.pageY;\n\n        if (wheelDeltaX > 0) {\n          newX--;\n        } else if (wheelDeltaX < 0) {\n          newX++;\n        }\n\n        if (wheelDeltaY > 0) {\n          newY--;\n        } else if (wheelDeltaY < 0) {\n          newY++;\n        }\n\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n      newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n      this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n      this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n      if (newX > 0) {\n        newX = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n      }\n\n      this.scrollTo(newX, newY, 0); // INSERT POINT: _wheel\n    },\n    _initSnap: function () {\n      this.currentPage = {};\n\n      if (typeof this.options.snap == 'string') {\n        this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n      }\n\n      this.on('refresh', function () {\n        var i = 0,\n            l,\n            m = 0,\n            n,\n            cx,\n            cy,\n            x = 0,\n            y,\n            stepX = this.options.snapStepX || this.wrapperWidth,\n            stepY = this.options.snapStepY || this.wrapperHeight,\n            el;\n        this.pages = [];\n\n        if (!this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight) {\n          return;\n        }\n\n        if (this.options.snap === true) {\n          cx = Math.round(stepX / 2);\n          cy = Math.round(stepY / 2);\n\n          while (x > -this.scrollerWidth) {\n            this.pages[i] = [];\n            l = 0;\n            y = 0;\n\n            while (y > -this.scrollerHeight) {\n              this.pages[i][l] = {\n                x: Math.max(x, this.maxScrollX),\n                y: Math.max(y, this.maxScrollY),\n                width: stepX,\n                height: stepY,\n                cx: x - cx,\n                cy: y - cy\n              };\n              y -= stepY;\n              l++;\n            }\n\n            x -= stepX;\n            i++;\n          }\n        } else {\n          el = this.options.snap;\n          l = el.length;\n          n = -1;\n\n          for (; i < l; i++) {\n            if (i === 0 || el[i].offsetLeft <= el[i - 1].offsetLeft) {\n              m = 0;\n              n++;\n            }\n\n            if (!this.pages[m]) {\n              this.pages[m] = [];\n            }\n\n            x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n            y = Math.max(-el[i].offsetTop, this.maxScrollY);\n            cx = x - Math.round(el[i].offsetWidth / 2);\n            cy = y - Math.round(el[i].offsetHeight / 2);\n            this.pages[m][n] = {\n              x: x,\n              y: y,\n              width: el[i].offsetWidth,\n              height: el[i].offsetHeight,\n              cx: cx,\n              cy: cy\n            };\n\n            if (x > this.maxScrollX) {\n              m++;\n            }\n          }\n        }\n\n        this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0); // Update snap threshold if needed\n\n        if (this.options.snapThreshold % 1 === 0) {\n          this.snapThresholdX = this.options.snapThreshold;\n          this.snapThresholdY = this.options.snapThreshold;\n        } else {\n          this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n          this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n        }\n      });\n      this.on('flick', function () {\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.x - this.startX), 1000), Math.min(Math.abs(this.y - this.startY), 1000)), 300);\n        this.goToPage(this.currentPage.pageX + this.directionX, this.currentPage.pageY + this.directionY, time);\n      });\n    },\n    _nearestSnap: function (x, y) {\n      if (!this.pages.length) {\n        return {\n          x: 0,\n          y: 0,\n          pageX: 0,\n          pageY: 0\n        };\n      }\n\n      var i = 0,\n          l = this.pages.length,\n          m = 0; // Check if we exceeded the snap threshold\n\n      if (Math.abs(x - this.absStartX) < this.snapThresholdX && Math.abs(y - this.absStartY) < this.snapThresholdY) {\n        return this.currentPage;\n      }\n\n      if (x > 0) {\n        x = 0;\n      } else if (x < this.maxScrollX) {\n        x = this.maxScrollX;\n      }\n\n      if (y > 0) {\n        y = 0;\n      } else if (y < this.maxScrollY) {\n        y = this.maxScrollY;\n      }\n\n      for (; i < l; i++) {\n        if (x >= this.pages[i][0].cx) {\n          x = this.pages[i][0].x;\n          break;\n        }\n      }\n\n      l = this.pages[i].length;\n\n      for (; m < l; m++) {\n        if (y >= this.pages[0][m].cy) {\n          y = this.pages[0][m].y;\n          break;\n        }\n      }\n\n      if (i == this.currentPage.pageX) {\n        i += this.directionX;\n\n        if (i < 0) {\n          i = 0;\n        } else if (i >= this.pages.length) {\n          i = this.pages.length - 1;\n        }\n\n        x = this.pages[i][0].x;\n      }\n\n      if (m == this.currentPage.pageY) {\n        m += this.directionY;\n\n        if (m < 0) {\n          m = 0;\n        } else if (m >= this.pages[0].length) {\n          m = this.pages[0].length - 1;\n        }\n\n        y = this.pages[0][m].y;\n      }\n\n      return {\n        x: x,\n        y: y,\n        pageX: i,\n        pageY: m\n      };\n    },\n    goToPage: function (x, y, time, easing) {\n      easing = easing || this.options.bounceEasing;\n\n      if (x >= this.pages.length) {\n        x = this.pages.length - 1;\n      } else if (x < 0) {\n        x = 0;\n      }\n\n      if (y >= this.pages[x].length) {\n        y = this.pages[x].length - 1;\n      } else if (y < 0) {\n        y = 0;\n      }\n\n      var posX = this.pages[x][y].x,\n          posY = this.pages[x][y].y;\n      time = time === undefined ? this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n      this.currentPage = {\n        x: posX,\n        y: posY,\n        pageX: x,\n        pageY: y\n      };\n      this.scrollTo(posX, posY, time, easing);\n    },\n    next: function (time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x++;\n\n      if (x >= this.pages.length && this.hasVerticalScroll) {\n        x = 0;\n        y++;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    prev: function (time, easing) {\n      var x = this.currentPage.pageX,\n          y = this.currentPage.pageY;\n      x--;\n\n      if (x < 0 && this.hasVerticalScroll) {\n        x = 0;\n        y--;\n      }\n\n      this.goToPage(x, y, time, easing);\n    },\n    _initKeys: function (e) {\n      // default key bindings\n      var keys = {\n        pageUp: 33,\n        pageDown: 34,\n        end: 35,\n        home: 36,\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40\n      };\n      var i; // if you give me characters I give you keycode\n\n      if (typeof this.options.keyBindings == 'object') {\n        for (i in this.options.keyBindings) {\n          if (typeof this.options.keyBindings[i] == 'string') {\n            this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n          }\n        }\n      } else {\n        this.options.keyBindings = {};\n      }\n\n      for (i in keys) {\n        this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n      }\n\n      utils.addEvent(window, 'keydown', this);\n      this.on('destroy', function () {\n        utils.removeEvent(window, 'keydown', this);\n      });\n    },\n    _key: function (e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      var snap = this.options.snap,\n          // we are using this alot, better to cache it\n      newX = snap ? this.currentPage.pageX : this.x,\n          newY = snap ? this.currentPage.pageY : this.y,\n          now = utils.getTime(),\n          prevTime = this.keyTime || 0,\n          acceleration = 0.250,\n          pos;\n\n      if (this.options.useTransition && this.isInTransition) {\n        pos = this.getComputedPosition();\n\n        this._translate(Math.round(pos.x), Math.round(pos.y));\n\n        this.isInTransition = false;\n      }\n\n      this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n      switch (e.keyCode) {\n        case this.options.keyBindings.pageUp:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX += snap ? 1 : this.wrapperWidth;\n          } else {\n            newY += snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.pageDown:\n          if (this.hasHorizontalScroll && !this.hasVerticalScroll) {\n            newX -= snap ? 1 : this.wrapperWidth;\n          } else {\n            newY -= snap ? 1 : this.wrapperHeight;\n          }\n\n          break;\n\n        case this.options.keyBindings.end:\n          newX = snap ? this.pages.length - 1 : this.maxScrollX;\n          newY = snap ? this.pages[0].length - 1 : this.maxScrollY;\n          break;\n\n        case this.options.keyBindings.home:\n          newX = 0;\n          newY = 0;\n          break;\n\n        case this.options.keyBindings.left:\n          newX += snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.up:\n          newY += snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.right:\n          newX -= snap ? -1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        case this.options.keyBindings.down:\n          newY -= snap ? 1 : 5 + this.keyAcceleration >> 0;\n          break;\n\n        default:\n          return;\n      }\n\n      if (snap) {\n        this.goToPage(newX, newY);\n        return;\n      }\n\n      if (newX > 0) {\n        newX = 0;\n        this.keyAcceleration = 0;\n      } else if (newX < this.maxScrollX) {\n        newX = this.maxScrollX;\n        this.keyAcceleration = 0;\n      }\n\n      if (newY > 0) {\n        newY = 0;\n        this.keyAcceleration = 0;\n      } else if (newY < this.maxScrollY) {\n        newY = this.maxScrollY;\n        this.keyAcceleration = 0;\n      }\n\n      this.scrollTo(newX, newY, 0);\n      this.keyTime = now;\n    },\n    _animate: function (destX, destY, duration, easingFn) {\n      var that = this,\n          startX = this.x,\n          startY = this.y,\n          startTime = utils.getTime(),\n          destTime = startTime + duration;\n\n      function step() {\n        var now = utils.getTime(),\n            newX,\n            newY,\n            easing;\n\n        if (now >= destTime) {\n          that.isAnimating = false;\n\n          that._translate(destX, destY);\n\n          if (!that.resetPosition(that.options.bounceTime)) {\n            that._execEvent('scrollEnd');\n          }\n\n          return;\n        }\n\n        now = (now - startTime) / duration;\n        easing = easingFn(now);\n        newX = (destX - startX) * easing + startX;\n        newY = (destY - startY) * easing + startY;\n\n        that._translate(newX, newY);\n\n        if (that.isAnimating) {\n          rAF(step);\n        }\n      }\n\n      this.isAnimating = true;\n      step();\n    },\n    handleEvent: function (e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n\n        case 'orientationchange':\n        case 'resize':\n          this._resize();\n\n          break;\n\n        case 'transitionend':\n        case 'webkitTransitionEnd':\n        case 'oTransitionEnd':\n        case 'MSTransitionEnd':\n          this._transitionEnd(e);\n\n          break;\n\n        case 'wheel':\n        case 'DOMMouseScroll':\n        case 'mousewheel':\n          this._wheel(e);\n\n          break;\n\n        case 'keydown':\n          this._key(e);\n\n          break;\n\n        case 'click':\n          if (this.enabled && !e._constructed) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n      }\n    }\n  };\n\n  function createDefaultScrollbar(direction, interactive, type) {\n    var scrollbar = document.createElement('div'),\n        indicator = document.createElement('div');\n\n    if (type === true) {\n      scrollbar.style.cssText = 'position:absolute;z-index:9999';\n      indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n    }\n\n    indicator.className = 'iScrollIndicator';\n\n    if (direction == 'h') {\n      if (type === true) {\n        scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n        indicator.style.height = '100%';\n      }\n\n      scrollbar.className = 'iScrollHorizontalScrollbar';\n    } else {\n      if (type === true) {\n        scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n        indicator.style.width = '100%';\n      }\n\n      scrollbar.className = 'iScrollVerticalScrollbar';\n    }\n\n    scrollbar.style.cssText += ';overflow:hidden';\n\n    if (!interactive) {\n      scrollbar.style.pointerEvents = 'none';\n    }\n\n    scrollbar.appendChild(indicator);\n    return scrollbar;\n  }\n\n  function Indicator(scroller, options) {\n    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n    this.wrapperStyle = this.wrapper.style;\n    this.indicator = this.wrapper.children[0];\n    this.indicatorStyle = this.indicator.style;\n    this.scroller = scroller;\n    this.options = {\n      listenX: true,\n      listenY: true,\n      interactive: false,\n      resize: true,\n      defaultScrollbars: false,\n      shrink: false,\n      fade: false,\n      speedRatioX: 0,\n      speedRatioY: 0\n    };\n\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n\n    this.sizeRatioX = 1;\n    this.sizeRatioY = 1;\n    this.maxPosX = 0;\n    this.maxPosY = 0;\n\n    if (this.options.interactive) {\n      if (!this.options.disableTouch) {\n        utils.addEvent(this.indicator, 'touchstart', this);\n        utils.addEvent(window, 'touchend', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(this.indicator, 'mousedown', this);\n        utils.addEvent(window, 'mouseup', this);\n      }\n    }\n\n    if (this.options.fade) {\n      this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms'; // remove 0.0001ms\n\n      var self = this;\n\n      if (utils.isBadAndroid) {\n        rAF(function () {\n          if (self.wrapperStyle[durationProp] === '0.0001ms') {\n            self.wrapperStyle[durationProp] = '0s';\n          }\n        });\n      }\n\n      this.wrapperStyle.opacity = '0';\n    }\n  }\n\n  Indicator.prototype = {\n    handleEvent: function (e) {\n      switch (e.type) {\n        case 'touchstart':\n        case 'pointerdown':\n        case 'MSPointerDown':\n        case 'mousedown':\n          this._start(e);\n\n          break;\n\n        case 'touchmove':\n        case 'pointermove':\n        case 'MSPointerMove':\n        case 'mousemove':\n          this._move(e);\n\n          break;\n\n        case 'touchend':\n        case 'pointerup':\n        case 'MSPointerUp':\n        case 'mouseup':\n        case 'touchcancel':\n        case 'pointercancel':\n        case 'MSPointerCancel':\n        case 'mousecancel':\n          this._end(e);\n\n          break;\n      }\n    },\n    destroy: function () {\n      if (this.options.fadeScrollbars) {\n        clearTimeout(this.fadeTimeout);\n        this.fadeTimeout = null;\n      }\n\n      if (this.options.interactive) {\n        utils.removeEvent(this.indicator, 'touchstart', this);\n        utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n        utils.removeEvent(this.indicator, 'mousedown', this);\n        utils.removeEvent(window, 'touchmove', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        utils.removeEvent(window, 'mousemove', this);\n        utils.removeEvent(window, 'touchend', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n        utils.removeEvent(window, 'mouseup', this);\n      }\n\n      if (this.options.defaultScrollbars) {\n        this.wrapper.parentNode.removeChild(this.wrapper);\n      }\n    },\n    _start: function (e) {\n      var point = e.touches ? e.touches[0] : e;\n      e.preventDefault();\n      e.stopPropagation();\n      this.transitionTime();\n      this.initiated = true;\n      this.moved = false;\n      this.lastPointX = point.pageX;\n      this.lastPointY = point.pageY;\n      this.startTime = utils.getTime();\n\n      if (!this.options.disableTouch) {\n        utils.addEvent(window, 'touchmove', this);\n      }\n\n      if (!this.options.disablePointer) {\n        utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      }\n\n      if (!this.options.disableMouse) {\n        utils.addEvent(window, 'mousemove', this);\n      }\n\n      this.scroller._execEvent('beforeScrollStart');\n    },\n    _move: function (e) {\n      var point = e.touches ? e.touches[0] : e,\n          deltaX,\n          deltaY,\n          newX,\n          newY,\n          timestamp = utils.getTime();\n\n      if (!this.moved) {\n        this.scroller._execEvent('scrollStart');\n      }\n\n      this.moved = true;\n      deltaX = point.pageX - this.lastPointX;\n      this.lastPointX = point.pageX;\n      deltaY = point.pageY - this.lastPointY;\n      this.lastPointY = point.pageY;\n      newX = this.x + deltaX;\n      newY = this.y + deltaY;\n\n      this._pos(newX, newY); // INSERT POINT: indicator._move\n\n\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    _end: function (e) {\n      if (!this.initiated) {\n        return;\n      }\n\n      this.initiated = false;\n      e.preventDefault();\n      e.stopPropagation();\n      utils.removeEvent(window, 'touchmove', this);\n      utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n      utils.removeEvent(window, 'mousemove', this);\n\n      if (this.scroller.options.snap) {\n        var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n        var time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n        if (this.scroller.x != snap.x || this.scroller.y != snap.y) {\n          this.scroller.directionX = 0;\n          this.scroller.directionY = 0;\n          this.scroller.currentPage = snap;\n          this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n        }\n      }\n\n      if (this.moved) {\n        this.scroller._execEvent('scrollEnd');\n      }\n    },\n    transitionTime: function (time) {\n      time = time || 0;\n      var durationProp = utils.style.transitionDuration;\n\n      if (!durationProp) {\n        return;\n      }\n\n      this.indicatorStyle[durationProp] = time + 'ms';\n\n      if (!time && utils.isBadAndroid) {\n        this.indicatorStyle[durationProp] = '0.0001ms'; // remove 0.0001ms\n\n        var self = this;\n        rAF(function () {\n          if (self.indicatorStyle[durationProp] === '0.0001ms') {\n            self.indicatorStyle[durationProp] = '0s';\n          }\n        });\n      }\n    },\n    transitionTimingFunction: function (easing) {\n      this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n    },\n    refresh: function () {\n      this.transitionTime();\n\n      if (this.options.listenX && !this.options.listenY) {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n      } else if (this.options.listenY && !this.options.listenX) {\n        this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n      } else {\n        this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n      }\n\n      if (this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll) {\n        utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '8px';\n          } else {\n            this.wrapper.style.bottom = '8px';\n          }\n        }\n      } else {\n        utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n        utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n        if (this.options.defaultScrollbars && this.options.customStyle) {\n          if (this.options.listenX) {\n            this.wrapper.style.right = '2px';\n          } else {\n            this.wrapper.style.bottom = '2px';\n          }\n        }\n      }\n\n      var r = this.wrapper.offsetHeight; // force refresh\n\n      if (this.options.listenX) {\n        this.wrapperWidth = this.wrapper.clientWidth;\n\n        if (this.options.resize) {\n          this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n          this.indicatorStyle.width = this.indicatorWidth + 'px';\n        } else {\n          this.indicatorWidth = this.indicator.clientWidth;\n        }\n\n        this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryX = -this.indicatorWidth + 8;\n          this.maxBoundaryX = this.wrapperWidth - 8;\n        } else {\n          this.minBoundaryX = 0;\n          this.maxBoundaryX = this.maxPosX;\n        }\n\n        this.sizeRatioX = this.options.speedRatioX || this.scroller.maxScrollX && this.maxPosX / this.scroller.maxScrollX;\n      }\n\n      if (this.options.listenY) {\n        this.wrapperHeight = this.wrapper.clientHeight;\n\n        if (this.options.resize) {\n          this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n          this.indicatorStyle.height = this.indicatorHeight + 'px';\n        } else {\n          this.indicatorHeight = this.indicator.clientHeight;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n        if (this.options.shrink == 'clip') {\n          this.minBoundaryY = -this.indicatorHeight + 8;\n          this.maxBoundaryY = this.wrapperHeight - 8;\n        } else {\n          this.minBoundaryY = 0;\n          this.maxBoundaryY = this.maxPosY;\n        }\n\n        this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n        this.sizeRatioY = this.options.speedRatioY || this.scroller.maxScrollY && this.maxPosY / this.scroller.maxScrollY;\n      }\n\n      this.updatePosition();\n    },\n    updatePosition: function () {\n      var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n          y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n      if (!this.options.ignoreBoundaries) {\n        if (x < this.minBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth + x, 8);\n            this.indicatorStyle.width = this.width + 'px';\n          }\n\n          x = this.minBoundaryX;\n        } else if (x > this.maxBoundaryX) {\n          if (this.options.shrink == 'scale') {\n            this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n            this.indicatorStyle.width = this.width + 'px';\n            x = this.maxPosX + this.indicatorWidth - this.width;\n          } else {\n            x = this.maxBoundaryX;\n          }\n        } else if (this.options.shrink == 'scale' && this.width != this.indicatorWidth) {\n          this.width = this.indicatorWidth;\n          this.indicatorStyle.width = this.width + 'px';\n        }\n\n        if (y < this.minBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight + y * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n          }\n\n          y = this.minBoundaryY;\n        } else if (y > this.maxBoundaryY) {\n          if (this.options.shrink == 'scale') {\n            this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n            this.indicatorStyle.height = this.height + 'px';\n            y = this.maxPosY + this.indicatorHeight - this.height;\n          } else {\n            y = this.maxBoundaryY;\n          }\n        } else if (this.options.shrink == 'scale' && this.height != this.indicatorHeight) {\n          this.height = this.indicatorHeight;\n          this.indicatorStyle.height = this.height + 'px';\n        }\n      }\n\n      this.x = x;\n      this.y = y;\n\n      if (this.scroller.options.useTransform) {\n        this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n      } else {\n        this.indicatorStyle.left = x + 'px';\n        this.indicatorStyle.top = y + 'px';\n      }\n    },\n    _pos: function (x, y) {\n      if (x < 0) {\n        x = 0;\n      } else if (x > this.maxPosX) {\n        x = this.maxPosX;\n      }\n\n      if (y < 0) {\n        y = 0;\n      } else if (y > this.maxPosY) {\n        y = this.maxPosY;\n      }\n\n      x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n      y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n      this.scroller.scrollTo(x, y);\n    },\n    fade: function (val, hold) {\n      if (hold && !this.visible) {\n        return;\n      }\n\n      clearTimeout(this.fadeTimeout);\n      this.fadeTimeout = null;\n      var time = val ? 250 : 500,\n          delay = val ? 0 : 300;\n      val = val ? '1' : '0';\n      this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n      this.fadeTimeout = setTimeout(function (val) {\n        this.wrapperStyle.opacity = val;\n        this.visible = +val;\n      }.bind(this, val), delay);\n    }\n  };\n  IScroll.utils = utils;\n\n  if (typeof module != 'undefined' && module.exports) {\n    module.exports = IScroll;\n  } else if (typeof define == 'function' && define.amd) {\n    define(function () {\n      return IScroll;\n    });\n  } else {\n    window.IScroll = IScroll;\n  }\n})(window, document, Math);\n/*!\n * fullPage ScrollOverflow\n * https://github.com/alvarotrigo/fullPage.js\n * @license MIT licensed\n *\n * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n */\n\n\n(function (window, $) {\n  var ACTIVE = 'active';\n  var ACTIVE_SEL = '.' + ACTIVE;\n  var SECTION = 'fp-section';\n  var SECTION_SEL = '.' + SECTION;\n  var SECTION_ACTIVE_SEL = SECTION_SEL + ACTIVE_SEL;\n  var SLIDE = 'fp-slide';\n  var SLIDE_SEL = '.' + SLIDE;\n  var SLIDE_ACTIVE_SEL = SLIDE_SEL + ACTIVE_SEL;\n  var SLIDES_WRAPPER = 'fp-slides';\n  var SLIDES_WRAPPER_SEL = '.' + SLIDES_WRAPPER; // scrolloverflow\n\n  var SCROLLABLE = 'fp-scrollable';\n  var SCROLLABLE_SEL = '.' + SCROLLABLE;\n\n  if (typeof IScroll !== 'undefined') {\n    /*\n    * Turns iScroll `mousewheel` option off dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n    IScroll.prototype.wheelOn = function () {\n      this.wrapper.addEventListener('wheel', this);\n      this.wrapper.addEventListener('mousewheel', this);\n      this.wrapper.addEventListener('DOMMouseScroll', this);\n    };\n    /*\n    * Turns iScroll `mousewheel` option on dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n\n    IScroll.prototype.wheelOff = function () {\n      this.wrapper.removeEventListener('wheel', this);\n      this.wrapper.removeEventListener('mousewheel', this);\n      this.wrapper.removeEventListener('DOMMouseScroll', this);\n    };\n  }\n  /**\n   * An object to handle overflow scrolling.\n   * This uses jquery.slimScroll to accomplish overflow scrolling.\n   * It is possible to pass in an alternate scrollOverflowHandler\n   * to the fullpage.js option that implements the same functions\n   * as this handler.\n   *\n   * @type {Object}\n   */\n\n\n  window.iscrollHandler = {\n    refreshId: null,\n    iScrollInstances: [],\n    // Enables or disables the mouse wheel for the active section or all slides in it\n    toggleWheel: function (value) {\n      var scrollable = $(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);\n      scrollable.each(function () {\n        var iScrollInstance = $(this).data('iscrollInstance');\n\n        if (typeof iScrollInstance !== 'undefined' && iScrollInstance) {\n          if (value) {\n            iScrollInstance.wheelOn();\n          } else {\n            iScrollInstance.wheelOff();\n          }\n        }\n      });\n    },\n\n    /**\n    * Turns off iScroll for the destination section.\n    * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n    * scroll the destination section/slide before the sections animations ends.\n    */\n    onLeave: function () {\n      iscrollHandler.toggleWheel(false);\n    },\n    // Turns off iScroll for the leaving section\n    beforeLeave: function () {\n      iscrollHandler.onLeave();\n    },\n    // Turns on iScroll on section load\n    afterLoad: function () {\n      iscrollHandler.toggleWheel(true);\n    },\n\n    /**\n     * Called when overflow scrolling is needed for a section.\n     *\n     * @param  {Object} element      jQuery object containing current section\n     * @param  {Number} scrollHeight Current window height in pixels\n     */\n    create: function (element, scrollHeight, scrollOverflowOptions) {\n      var scrollable = element.find(SCROLLABLE_SEL);\n      scrollable.height(scrollHeight);\n      scrollable.each(function () {\n        var $this = $(this);\n        var iScrollInstance = $this.data('iscrollInstance');\n\n        if (iScrollInstance) {\n          $.each(iscrollHandler.iScrollInstances, function () {\n            $(this).destroy();\n          });\n        }\n\n        iScrollInstance = new IScroll($this.get(0), scrollOverflowOptions);\n        iScrollInstance.on('scrollEnd', function () {\n          this['fp_isAtTop'] = this.y > -30;\n          this['fp_isAtEnd'] = this.y - this.maxScrollY < 30;\n        });\n        iscrollHandler.iScrollInstances.push(iScrollInstance); //off by default until the section gets active\n\n        iScrollInstance.wheelOff();\n        $this.data('iscrollInstance', iScrollInstance);\n      });\n    },\n\n    /**\n     * Return a boolean depending on whether the scrollable element is a\n     * the end or at the start of the scrolling depending on the given type.\n     *\n     * @param  {String}  type       Either 'top' or 'bottom'\n     * @param  {Object}  scrollable jQuery object for the scrollable element\n     * @return {Boolean}\n     */\n    isScrolled: function (type, scrollable) {\n      var scroller = scrollable.data('iscrollInstance'); //no scroller?\n\n      if (!scroller) {\n        return true;\n      }\n\n      if (type === 'top') {\n        return scroller.y >= 0 && !scrollable.scrollTop();\n      } else if (type === 'bottom') {\n        return 0 - scroller.y + scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;\n      }\n    },\n\n    /**\n     * Returns the scrollable element for the given section.\n     * If there are landscape slides, will only return a scrollable element\n     * if it is in the active slide.\n     *\n     * @param  {Object}  activeSection jQuery object containing current section\n     * @return {Boolean}\n     */\n    scrollable: function (activeSection) {\n      // if there are landscape slides, we check if the scrolling bar is in the current one or not\n      if (activeSection.find(SLIDES_WRAPPER_SEL).length) {\n        return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL);\n      }\n\n      return activeSection.find(SCROLLABLE_SEL);\n    },\n\n    /**\n     * Returns the scroll height of the wrapped content.\n     * If this is larger than the window height minus section padding,\n     * overflow scrolling is needed.\n     *\n     * @param  {Object} element jQuery object containing current section\n     * @return {Number}\n     */\n    scrollHeight: function (element) {\n      return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight;\n    },\n\n    /**\n     * Called when overflow scrolling is no longer needed for a section.\n     *\n     * @param  {Object} element      jQuery object containing current section\n     */\n    remove: function (element) {\n      var scrollable = element.find(SCROLLABLE_SEL);\n\n      if (scrollable.length) {\n        var iScrollInstance = scrollable.data('iscrollInstance');\n\n        if (iScrollInstance) {\n          iScrollInstance.destroy();\n        }\n\n        scrollable.data('iscrollInstance', null);\n      }\n\n      element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap();\n    },\n\n    /**\n     * Called when overflow scrolling has already been setup but the\n     * window height has potentially changed.\n     *\n     * @param  {Object} element      jQuery object containing current section\n     * @param  {Number} scrollHeight Current window height in pixels\n     */\n    update: function (element, scrollHeight) {\n      //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n      //short period of time.\n      //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n      clearTimeout(iscrollHandler.refreshId);\n      iscrollHandler.refreshId = setTimeout(function () {\n        $.each(iscrollHandler.iScrollInstances, function () {\n          $(this).get(0).refresh();\n        });\n      }, 150); //updating the wrappers height\n\n      element.find(SCROLLABLE_SEL).css('height', scrollHeight + 'px').parent().css('height', scrollHeight + 'px');\n    },\n\n    /**\n     * Called to get any additional elements needed to wrap the section\n     * content in order to facilitate overflow scrolling.\n     *\n     * @return {String|Object} Can be a string containing HTML,\n     *                         a DOM element, or jQuery object.\n     */\n    wrapContent: function () {\n      return '<div class=\"' + SCROLLABLE + '\"><div class=\"fp-scroller\"></div></div>';\n    }\n  };\n})(window, jQuery); // scrolloverflow module\n\n\n(function (window, document, $) {\n  $.fn.fp_scrolloverflow = function () {\n    // keeping central set of classnames and selectors\n    var SCROLLABLE = 'fp-scrollable';\n    var SCROLLABLE_SEL = '.' + SCROLLABLE;\n    var ACTIVE = 'active';\n    var ACTIVE_SEL = '.' + ACTIVE;\n    var SECTION = 'fp-section';\n    var SECTION_SEL = '.' + SECTION;\n    var SECTION_ACTIVE_SEL = SECTION_SEL + ACTIVE_SEL;\n    var SLIDE = 'fp-slide';\n    var SLIDE_SEL = '.' + SLIDE;\n    var SLIDE_ACTIVE_SEL = SLIDE_SEL + ACTIVE_SEL;\n    var SLIDES_WRAPPER = 'fp-slides';\n    var SLIDES_WRAPPER_SEL = '.' + SLIDES_WRAPPER;\n    var TABLE_CELL = 'fp-tableCell';\n    var TABLE_CELL_SEL = '.' + TABLE_CELL;\n    var RESPONSIVE = 'fp-responsive';\n    var AUTO_HEIGHT_RESPONSIVE = 'fp-auto-height-responsive';\n    /*\n    * Turns iScroll `mousewheel` option off dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n    IScroll.prototype.wheelOn = function () {\n      this.wrapper.addEventListener('wheel', this);\n      this.wrapper.addEventListener('mousewheel', this);\n      this.wrapper.addEventListener('DOMMouseScroll', this);\n    };\n    /*\n    * Turns iScroll `mousewheel` option on dynamically\n    * https://github.com/cubiq/iscroll/issues/1036\n    */\n\n\n    IScroll.prototype.wheelOff = function () {\n      this.wrapper.removeEventListener('wheel', this);\n      this.wrapper.removeEventListener('mousewheel', this);\n      this.wrapper.removeEventListener('DOMMouseScroll', this);\n    };\n\n    function scrollBarHandler() {\n      var self = this;\n      self.options = null;\n\n      self.init = function (options, iscrollOptions) {\n        self.options = options;\n        self.iscrollOptions = iscrollOptions;\n\n        if (document.readyState === 'complete') {\n          createScrollBarForAll();\n          $.fn.fullpage.shared.afterRenderActions();\n        } //after DOM and images are loaded\n\n\n        $(window).on('load', function () {\n          createScrollBarForAll();\n          $.fn.fullpage.shared.afterRenderActions();\n        });\n        return self;\n      };\n      /**\n      * Creates the scrollbar for the sections and slides in the site\n      */\n\n\n      function createScrollBarForAll() {\n        if ($('body').hasClass(RESPONSIVE)) {\n          removeResponsiveScrollOverflows();\n        } else {\n          forEachSectionAndSlide(createScrollBar);\n        }\n      }\n      /**\n      * Returns an integer representing the padding dimensions in px.\n      */\n\n\n      function getPaddings(element) {\n        var section = element.closest(SECTION_SEL);\n\n        if (section.length) {\n          return parseInt(section.css('padding-bottom')) + parseInt(section.css('padding-top'));\n        }\n\n        return 0;\n      }\n      /**\n      * Checks if the element needs scrollbar and if the user wants to apply it.\n      * If so it creates it.\n      *\n      * @param {Object} element   jQuery object of the section or slide\n      */\n\n\n      function createScrollBar(element) {\n        //User doesn't want scrollbar here? Sayonara baby!\n        if (element.hasClass('fp-noscroll')) return; //necessary to make `scrollHeight` work under Opera 12\n\n        element.css('overflow', 'hidden');\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n        var wrap = scrollOverflowHandler.wrapContent();\n        var section = element.closest(SECTION_SEL); //in case element is a slide\n\n        var scrollable = scrollOverflowHandler.scrollable(element);\n        var contentHeight;\n        var paddings = getPaddings(section); //if there was scroll, the contentHeight will be the one in the scrollable section\n\n        if (scrollable.length) {\n          contentHeight = scrollOverflowHandler.scrollHeight(element);\n        } else {\n          contentHeight = element.get(0).scrollHeight - paddings;\n\n          if (self.options.verticalCentered) {\n            contentHeight = element.find(TABLE_CELL_SEL).get(0).scrollHeight - paddings;\n          }\n        }\n\n        var scrollHeight = $(window).height() - paddings; //needs scroll?\n\n        if (contentHeight > scrollHeight) {\n          //did we already have an scrollbar ? Updating it\n          if (scrollable.length) {\n            scrollOverflowHandler.update(element, scrollHeight);\n          } //creating the scrolling\n          else {\n            if (self.options.verticalCentered) {\n              element.find(TABLE_CELL_SEL).wrapInner(wrap);\n            } else {\n              element.wrapInner(wrap);\n            }\n\n            scrollOverflowHandler.create(element, scrollHeight, self.iscrollOptions);\n          }\n        } //removing the scrolling when it is not necessary anymore\n        else {\n          scrollOverflowHandler.remove(element);\n        } //undo\n\n\n        element.css('overflow', '');\n      }\n      /**\n      * Applies a callback function to each section in the site\n      * or the slides within them\n      */\n\n\n      function forEachSectionAndSlide(callback) {\n        $(SECTION_SEL).each(function () {\n          var slides = $(this).find(SLIDE_SEL);\n\n          if (slides.length) {\n            slides.each(function () {\n              callback($(this));\n            });\n          } else {\n            callback($(this));\n          }\n        });\n      }\n      /**\n      * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`\n      */\n\n\n      function removeResponsiveScrollOverflows() {\n        var scrollOverflowHandler = self.options.scrollOverflowHandler;\n        forEachSectionAndSlide(function (element) {\n          if (element.closest(SECTION_SEL).hasClass(AUTO_HEIGHT_RESPONSIVE)) {\n            scrollOverflowHandler.remove(element);\n          }\n        });\n      } //public functions\n\n\n      self.createScrollBarForAll = createScrollBarForAll;\n    }\n    /**\n     * An object to handle overflow scrolling.\n     * This uses jquery.slimScroll to accomplish overflow scrolling.\n     * It is possible to pass in an alternate scrollOverflowHandler\n     * to the fullpage.js option that implements the same functions\n     * as this handler.\n     *\n     * @type {Object}\n     */\n\n\n    var iscrollHandler = {\n      refreshId: null,\n      iScrollInstances: [],\n      // Default options for iScroll.js used when using scrollOverflow\n      iscrollOptions: {\n        scrollbars: true,\n        mouseWheel: true,\n        hideScrollbars: false,\n        fadeScrollbars: false,\n        disableMouse: true,\n        interactiveScrollbars: true\n      },\n      init: function (options) {\n        var isTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints > 0 || navigator.maxTouchPoints; //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783\n\n        iscrollHandler.iscrollOptions.click = isTouch; // see #2035\n        //extending iScroll options with the user custom ones\n\n        iscrollHandler.iscrollOptions = $.extend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);\n        return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);\n      },\n      // Enables or disables the mouse wheel for the active section or all slides in it\n      toggleWheel: function (value) {\n        var scrollable = $(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);\n        scrollable.each(function () {\n          var iScrollInstance = $(this).data('iscrollInstance');\n\n          if (typeof iScrollInstance !== 'undefined' && iScrollInstance) {\n            if (value) {\n              iScrollInstance.wheelOn();\n            } else {\n              iScrollInstance.wheelOff();\n            }\n          }\n        });\n      },\n\n      /**\n      * Turns off iScroll for the destination section.\n      * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n      * scroll the destination section/slide before the sections animations ends.\n      */\n      onLeave: function () {\n        iscrollHandler.toggleWheel(false);\n      },\n      // Turns off iScroll for the leaving section\n      beforeLeave: function () {\n        iscrollHandler.onLeave();\n      },\n      // Turns on iScroll on section load\n      afterLoad: function () {\n        iscrollHandler.toggleWheel(true);\n      },\n\n      /**\n       * Called when overflow scrolling is needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      create: function (element, scrollHeight, iscrollOptions) {\n        var scrollable = element.find(SCROLLABLE_SEL);\n        scrollable.height(scrollHeight);\n        scrollable.each(function () {\n          var $this = $(this);\n          var iScrollInstance = $this.data('iscrollInstance');\n\n          if (iScrollInstance) {\n            $.each(iscrollHandler.iScrollInstances, function () {\n              $(this).destroy();\n            });\n          }\n\n          iScrollInstance = new IScroll($this.get(0), iscrollOptions);\n          iscrollHandler.iScrollInstances.push(iScrollInstance); //off by default until the section gets active\n\n          iScrollInstance.wheelOff();\n          $this.data('iscrollInstance', iScrollInstance);\n        });\n      },\n\n      /**\n       * Return a boolean depending on whether the scrollable element is a\n       * the end or at the start of the scrolling depending on the given type.\n       *\n       * @param  {String}  type       Either 'top' or 'bottom'\n       * @param  {Object}  scrollable jQuery object for the scrollable element\n       * @return {Boolean}\n       */\n      isScrolled: function (type, scrollable) {\n        var scroller = scrollable.data('iscrollInstance'); //no scroller?\n\n        if (!scroller) {\n          return true;\n        }\n\n        if (type === 'top') {\n          return scroller.y >= 0 && !scrollable.scrollTop();\n        } else if (type === 'bottom') {\n          return 0 - scroller.y + scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;\n        }\n      },\n\n      /**\n       * Returns the scrollable element for the given section.\n       * If there are landscape slides, will only return a scrollable element\n       * if it is in the active slide.\n       *\n       * @param  {Object}  activeSection jQuery object containing current section\n       * @return {Boolean}\n       */\n      scrollable: function (activeSection) {\n        // if there are landscape slides, we check if the scrolling bar is in the current one or not\n        if (activeSection.find(SLIDES_WRAPPER_SEL).length) {\n          return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL);\n        }\n\n        return activeSection.find(SCROLLABLE_SEL);\n      },\n\n      /**\n       * Returns the scroll height of the wrapped content.\n       * If this is larger than the window height minus section padding,\n       * overflow scrolling is needed.\n       *\n       * @param  {Object} element jQuery object containing current section\n       * @return {Number}\n       */\n      scrollHeight: function (element) {\n        return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight;\n      },\n\n      /**\n       * Called when overflow scrolling is no longer needed for a section.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       */\n      remove: function (element) {\n        var scrollable = element.find(SCROLLABLE_SEL);\n\n        if (scrollable.length) {\n          var iScrollInstance = scrollable.data('iscrollInstance');\n          iScrollInstance.destroy();\n          scrollable.data('iscrollInstance', null);\n        }\n\n        element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap();\n      },\n\n      /**\n       * Called when overflow scrolling has already been setup but the\n       * window height has potentially changed.\n       *\n       * @param  {Object} element      jQuery object containing current section\n       * @param  {Number} scrollHeight Current window height in pixels\n       */\n      update: function (element, scrollHeight) {\n        //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n        //short period of time.\n        //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n        clearTimeout(iscrollHandler.refreshId);\n        iscrollHandler.refreshId = setTimeout(function () {\n          $.each(iscrollHandler.iScrollInstances, function () {\n            $(this).get(0).refresh(); //ugly hack that we are forced to use due to the timeout delay\n            //otherwise done on the fullpage.js reBuild function\n\n            $.fn.fullpage.silentMoveTo($(SECTION_ACTIVE_SEL).index() + 1);\n          });\n        }, 150); //updating the wrappers height\n\n        element.find(SCROLLABLE_SEL).css('height', scrollHeight + 'px').parent().css('height', scrollHeight + getPaddings(element) + 'px');\n      },\n\n      /**\n       * Called to get any additional elements needed to wrap the section\n       * content in order to facilitate overflow scrolling.\n       *\n       * @return {String|Object} Can be a string containing HTML,\n       *                         a DOM element, or jQuery object.\n       */\n      wrapContent: function () {\n        return '<div class=\"' + SCROLLABLE + '\"><div class=\"fp-scroller\"></div></div>';\n      }\n    };\n    return {\n      iscrollHandler: iscrollHandler\n    };\n  }();\n})(window, document, jQuery);","map":{"version":3,"names":["window","document","Math","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","utils","me","_elementStyle","createElement","style","_vendor","vendors","transform","i","l","length","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","extend","target","obj","addEvent","el","type","fn","capture","addEventListener","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","current","start","time","lowerMargin","wrapperSize","deceleration","distance","speed","abs","destination","duration","undefined","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","test","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","hasClass","e","c","re","RegExp","className","addClass","newclass","split","push","join","removeClass","replace","offset","left","offsetLeft","top","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","b","bounce","elastic","f","pow","sin","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","tagName","MouseEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_constructed","IScroll","options","wrapper","querySelector","scroller","children","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","useTransform","bindToWrapper","onmousedown","translateZ","eventPassthrough","scrollX","freeScroll","resizePolling","position","shrinkScrollbars","invertWheelDirection","x","y","directionX","directionY","_events","_init","refresh","scrollTo","enable","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","which","enabled","initiated","point","touches","pos","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","deltaX","deltaY","timestamp","newX","newY","absDistX","absDistY","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","disable","rf","offsetHeight","clientWidth","clientHeight","scrollerWidth","offsetWidth","scrollerHeight","wrapperOffset","on","off","index","indexOf","splice","apply","slice","call","arguments","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","durationProp","self","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactive","interactiveScrollbars","customStyle","indicator","createDefaultScrollbar","defaultScrollbars","resize","shrink","fade","fadeScrollbars","listenX","appendChild","listenY","concat","Indicator","_indicatorsMap","wheelTimeout","_wheel","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","goToPage","querySelectorAll","m","n","cx","cy","stepX","snapStepX","stepY","snapStepY","pages","width","height","snapThresholdX","snapThresholdY","posX","posY","next","prev","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","direction","scrollbar","cssText","pointerEvents","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","r","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","module","exports","define","amd","$","ACTIVE","ACTIVE_SEL","SECTION","SECTION_SEL","SECTION_ACTIVE_SEL","SLIDE","SLIDE_SEL","SLIDE_ACTIVE_SEL","SLIDES_WRAPPER","SLIDES_WRAPPER_SEL","SCROLLABLE","SCROLLABLE_SEL","wheelOn","wheelOff","iscrollHandler","refreshId","iScrollInstances","toggleWheel","value","scrollable","find","each","iScrollInstance","data","onLeave","beforeLeave","afterLoad","create","element","scrollHeight","scrollOverflowOptions","$this","get","isScrolled","scrollTop","innerHeight","activeSection","first","unwrap","update","css","parent","wrapContent","jQuery","fp_scrolloverflow","TABLE_CELL","TABLE_CELL_SEL","RESPONSIVE","AUTO_HEIGHT_RESPONSIVE","scrollBarHandler","init","iscrollOptions","readyState","createScrollBarForAll","fullpage","shared","afterRenderActions","removeResponsiveScrollOverflows","forEachSectionAndSlide","createScrollBar","getPaddings","section","closest","parseInt","scrollOverflowHandler","wrap","contentHeight","paddings","verticalCentered","wrapInner","slides","hideScrollbars","isTouch","msMaxTouchPoints","maxTouchPoints","silentMoveTo"],"sources":["/Users/danielkim/Desktop/All Projects/withSam/Practice/React/WorkOut Web/node_modules/fullpage.js/vendors/scrolloverflow.js"],"sourcesContent":["/*!\n* Customized version of iScroll.js 0.0.5\n* It fixes bugs affecting its integration with fullpage.js\n*/\n/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\nvar rAF = window.requestAnimationFrame  ||\n    window.webkitRequestAnimationFrame  ||\n    window.mozRequestAnimationFrame     ||\n    window.oRequestAnimationFrame       ||\n    window.msRequestAnimationFrame      ||\n    function (callback) { window.setTimeout(callback, 1000 / 60); };\n\nvar utils = (function () {\n    var me = {};\n\n    var _elementStyle = document.createElement('div').style;\n    var _vendor = (function () {\n        var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n            transform,\n            i = 0,\n            l = vendors.length;\n\n        for ( ; i < l; i++ ) {\n            transform = vendors[i] + 'ransform';\n            if ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\n        }\n\n        return false;\n    })();\n\n    function _prefixStyle (style) {\n        if ( _vendor === false ) return false;\n        if ( _vendor === '' ) return style;\n        return _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n    }\n\n    me.getTime = Date.now || function getTime () { return new Date().getTime(); };\n\n    me.extend = function (target, obj) {\n        for ( var i in obj ) {\n            target[i] = obj[i];\n        }\n    };\n\n    me.addEvent = function (el, type, fn, capture) {\n        el.addEventListener(type, fn, !!capture);\n    };\n\n    me.removeEvent = function (el, type, fn, capture) {\n        el.removeEventListener(type, fn, !!capture);\n    };\n\n    me.prefixPointerEvent = function (pointerEvent) {\n        return window.MSPointerEvent ?\n            'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\n            pointerEvent;\n    };\n\n    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n        var distance = current - start,\n            speed = Math.abs(distance) / time,\n            destination,\n            duration;\n\n        deceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n        destination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\n        duration = speed / deceleration;\n\n        if ( destination < lowerMargin ) {\n            destination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\n            distance = Math.abs(destination - current);\n            duration = distance / speed;\n        } else if ( destination > 0 ) {\n            destination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\n            distance = Math.abs(current) + destination;\n            duration = distance / speed;\n        }\n\n        return {\n            destination: Math.round(destination),\n            duration: duration\n        };\n    };\n\n    var _transform = _prefixStyle('transform');\n\n    me.extend(me, {\n        hasTransform: _transform !== false,\n        hasPerspective: _prefixStyle('perspective') in _elementStyle,\n        hasTouch: 'ontouchstart' in window,\n        hasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\n        hasTransition: _prefixStyle('transition') in _elementStyle\n    });\n\n    /*\n    This should find all Android browsers lower than build 535.19 (both stock browser and webview)\n    - galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n   - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n  */\n    me.isBadAndroid = (function() {\n        var appVersion = window.navigator.appVersion;\n        // Android browser is not a chrome browser.\n        if (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\n            var safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n            if(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n                return parseFloat(safariVersion[1]) < 535.19;\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    })();\n\n    me.extend(me.style = {}, {\n        transform: _transform,\n        transitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n        transitionDuration: _prefixStyle('transitionDuration'),\n        transitionDelay: _prefixStyle('transitionDelay'),\n        transformOrigin: _prefixStyle('transformOrigin')\n    });\n\n    me.hasClass = function (e, c) {\n        var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n        return re.test(e.className);\n    };\n\n    me.addClass = function (e, c) {\n        if ( me.hasClass(e, c) ) {\n            return;\n        }\n\n        var newclass = e.className.split(' ');\n        newclass.push(c);\n        e.className = newclass.join(' ');\n    };\n\n    me.removeClass = function (e, c) {\n        if ( !me.hasClass(e, c) ) {\n            return;\n        }\n\n        var re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n        e.className = e.className.replace(re, ' ');\n    };\n\n    me.offset = function (el) {\n        var left = -el.offsetLeft,\n            top = -el.offsetTop;\n\n        // jshint -W084\n        while (el = el.offsetParent) {\n            left -= el.offsetLeft;\n            top -= el.offsetTop;\n        }\n        // jshint +W084\n\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    me.preventDefaultException = function (el, exceptions) {\n        for ( var i in exceptions ) {\n            if ( exceptions[i].test(el[i]) ) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    me.extend(me.eventType = {}, {\n        touchstart: 1,\n        touchmove: 1,\n        touchend: 1,\n\n        mousedown: 2,\n        mousemove: 2,\n        mouseup: 2,\n\n        pointerdown: 3,\n        pointermove: 3,\n        pointerup: 3,\n\n        MSPointerDown: 3,\n        MSPointerMove: 3,\n        MSPointerUp: 3\n    });\n\n    me.extend(me.ease = {}, {\n        quadratic: {\n            style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n            fn: function (k) {\n                return k * ( 2 - k );\n            }\n        },\n        circular: {\n            style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',   // Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n            fn: function (k) {\n                return Math.sqrt( 1 - ( --k * k ) );\n            }\n        },\n        back: {\n            style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n            fn: function (k) {\n                var b = 4;\n                return ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\n            }\n        },\n        bounce: {\n            style: '',\n            fn: function (k) {\n                if ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\n                    return 7.5625 * k * k;\n                } else if ( k < ( 2 / 2.75 ) ) {\n                    return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n                } else if ( k < ( 2.5 / 2.75 ) ) {\n                    return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n                } else {\n                    return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n                }\n            }\n        },\n        elastic: {\n            style: '',\n            fn: function (k) {\n                var f = 0.22,\n                    e = 0.4;\n\n                if ( k === 0 ) { return 0; }\n                if ( k == 1 ) { return 1; }\n\n                return ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\n            }\n        }\n    });\n\n    me.tap = function (e, eventName) {\n        var ev = document.createEvent('Event');\n        ev.initEvent(eventName, true, true);\n        ev.pageX = e.pageX;\n        ev.pageY = e.pageY;\n        e.target.dispatchEvent(ev);\n    };\n\n    me.click = function (e) {\n        var target = e.target,\n            ev;\n\n        if ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n            // initMouseEvent is deprecated.\n            ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n            ev.initEvent('click', true, true);\n            ev.view = e.view || window;\n            ev.detail = 1;\n            ev.screenX = target.screenX || 0;\n            ev.screenY = target.screenY || 0;\n            ev.clientX = target.clientX || 0;\n            ev.clientY = target.clientY || 0;\n            ev.ctrlKey = !!e.ctrlKey;\n            ev.altKey = !!e.altKey;\n            ev.shiftKey = !!e.shiftKey;\n            ev.metaKey = !!e.metaKey;\n            ev.button = 0;\n            ev.relatedTarget = null;\n            ev._constructed = true;\n            target.dispatchEvent(ev);\n        }\n    };\n\n    return me;\n})();\nfunction IScroll (el, options) {\n    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n    this.scroller = this.wrapper.children[0];\n    this.scrollerStyle = this.scroller.style;       // cache style for better performance\n\n    this.options = {\n\n        resizeScrollbars: true,\n\n        mouseWheelSpeed: 20,\n\n        snapThreshold: 0.334,\n\n// INSERT POINT: OPTIONS\n        disablePointer : !utils.hasPointer,\n        disableTouch : utils.hasPointer || !utils.hasTouch,\n        disableMouse : utils.hasPointer || utils.hasTouch,\n        startX: 0,\n        startY: 0,\n        scrollY: true,\n        directionLockThreshold: 5,\n        momentum: true,\n\n        bounce: true,\n        bounceTime: 600,\n        bounceEasing: '',\n\n        preventDefault: true,\n        preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/ },\n\n        HWCompositing: true,\n        useTransition: true,\n        useTransform: true,\n        bindToWrapper: typeof window.onmousedown === \"undefined\"\n    };\n\n    for ( var i in options ) {\n        this.options[i] = options[i];\n    }\n\n    // Normalize options\n    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = utils.hasTransition && this.options.useTransition;\n    this.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n    if ( this.options.tap === true ) {\n        this.options.tap = 'tap';\n    }\n\n    // https://github.com/cubiq/iscroll/issues/1029\n    if (!this.options.useTransition && !this.options.useTransform) {\n        if(!(/relative|absolute/i).test(this.scrollerStyle.position)) {\n            this.scrollerStyle.position = \"relative\";\n        }\n    }\n\n    if ( this.options.shrinkScrollbars == 'scale' ) {\n        this.options.useTransition = false;\n    }\n\n    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n// INSERT POINT: NORMALIZATION\n\n    // Some defaults\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this._events = {};\n\n// INSERT POINT: DEFAULTS\n\n    this._init();\n    this.refresh();\n\n    this.scrollTo(this.options.startX, this.options.startY);\n    this.enable();\n}\n\nIScroll.prototype = {\n    version: '5.2.0',\n\n    _init: function () {\n        this._initEvents();\n\n        if ( this.options.scrollbars || this.options.indicators ) {\n            this._initIndicators();\n        }\n\n        if ( this.options.mouseWheel ) {\n            this._initWheel();\n        }\n\n        if ( this.options.snap ) {\n            this._initSnap();\n        }\n\n        if ( this.options.keyBindings ) {\n            this._initKeys();\n        }\n\n// INSERT POINT: _init\n\n    },\n\n    destroy: function () {\n        this._initEvents(true);\n        clearTimeout(this.resizeTimeout);\n        this.resizeTimeout = null;\n        this._execEvent('destroy');\n    },\n\n    _transitionEnd: function (e) {\n        if ( e.target != this.scroller || !this.isInTransition ) {\n            return;\n        }\n\n        this._transitionTime();\n        if ( !this.resetPosition(this.options.bounceTime) ) {\n            this.isInTransition = false;\n            this._execEvent('scrollEnd');\n        }\n    },\n\n    _start: function (e) {\n        // React to left mouse button only\n        if ( utils.eventType[e.type] != 1 ) {\n          // for button property\n          // http://unixpapa.com/js/mouse.html\n          var button;\n        if (!e.which) {\n          /* IE case */\n          button = (e.button < 2) ? 0 :\n                   ((e.button == 4) ? 1 : 2);\n        } else {\n          /* All others */\n          button = e.button;\n        }\n            if ( button !== 0 ) {\n                return;\n            }\n        }\n\n        if ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\n            return;\n        }\n\n        if ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n            e.preventDefault();\n        }\n\n        var point = e.touches ? e.touches[0] : e,\n            pos;\n\n        this.initiated  = utils.eventType[e.type];\n        this.moved      = false;\n        this.distX      = 0;\n        this.distY      = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n        this.directionLocked = 0;\n\n        this.startTime = utils.getTime();\n\n        if ( this.options.useTransition && this.isInTransition ) {\n            this._transitionTime();\n            this.isInTransition = false;\n            pos = this.getComputedPosition();\n            this._translate(Math.round(pos.x), Math.round(pos.y));\n            this._execEvent('scrollEnd');\n        } else if ( !this.options.useTransition && this.isAnimating ) {\n            this.isAnimating = false;\n            this._execEvent('scrollEnd');\n        }\n\n        this.startX    = this.x;\n        this.startY    = this.y;\n        this.absStartX = this.x;\n        this.absStartY = this.y;\n        this.pointX    = point.pageX;\n        this.pointY    = point.pageY;\n\n        this._execEvent('beforeScrollStart');\n    },\n\n    _move: function (e) {\n        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n            return;\n        }\n\n        if ( this.options.preventDefault ) {    // increases performance on Android? TODO: check!\n            e.preventDefault();\n        }\n\n        var point       = e.touches ? e.touches[0] : e,\n            deltaX      = point.pageX - this.pointX,\n            deltaY      = point.pageY - this.pointY,\n            timestamp   = utils.getTime(),\n            newX, newY,\n            absDistX, absDistY;\n\n        this.pointX     = point.pageX;\n        this.pointY     = point.pageY;\n\n        this.distX      += deltaX;\n        this.distY      += deltaY;\n        absDistX        = Math.abs(this.distX);\n        absDistY        = Math.abs(this.distY);\n\n        // We need to move at least 10 pixels for the scrolling to initiate\n        if ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\n            return;\n        }\n\n        // If you are scrolling in one direction lock the other\n        if ( !this.directionLocked && !this.options.freeScroll ) {\n            if ( absDistX > absDistY + this.options.directionLockThreshold ) {\n                this.directionLocked = 'h';     // lock horizontally\n            } else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\n                this.directionLocked = 'v';     // lock vertically\n            } else {\n                this.directionLocked = 'n';     // no lock\n            }\n        }\n\n        if ( this.directionLocked == 'h' ) {\n            if ( this.options.eventPassthrough == 'vertical' ) {\n                e.preventDefault();\n            } else if ( this.options.eventPassthrough == 'horizontal' ) {\n                this.initiated = false;\n                return;\n            }\n\n            deltaY = 0;\n        } else if ( this.directionLocked == 'v' ) {\n            if ( this.options.eventPassthrough == 'horizontal' ) {\n                e.preventDefault();\n            } else if ( this.options.eventPassthrough == 'vertical' ) {\n                this.initiated = false;\n                return;\n            }\n\n            deltaX = 0;\n        }\n\n        deltaX = this.hasHorizontalScroll ? deltaX : 0;\n        deltaY = this.hasVerticalScroll ? deltaY : 0;\n\n        newX = this.x + deltaX;\n        newY = this.y + deltaY;\n\n        // Slow down if outside of the boundaries\n        if ( newX > 0 || newX < this.maxScrollX ) {\n            newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n        }\n        if ( newY > 0 || newY < this.maxScrollY ) {\n            newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n        }\n\n        this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n        this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n        if ( !this.moved ) {\n            this._execEvent('scrollStart');\n        }\n\n        this.moved = true;\n\n        this._translate(newX, newY);\n\n/* REPLACE START: _move */\n\n        if ( timestamp - this.startTime > 300 ) {\n            this.startTime = timestamp;\n            this.startX = this.x;\n            this.startY = this.y;\n        }\n\n/* REPLACE END: _move */\n\n    },\n\n    _end: function (e) {\n        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n            return;\n        }\n\n        if ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n            e.preventDefault();\n        }\n\n        var point = e.changedTouches ? e.changedTouches[0] : e,\n            momentumX,\n            momentumY,\n            duration = utils.getTime() - this.startTime,\n            newX = Math.round(this.x),\n            newY = Math.round(this.y),\n            distanceX = Math.abs(newX - this.startX),\n            distanceY = Math.abs(newY - this.startY),\n            time = 0,\n            easing = '';\n\n        this.isInTransition = 0;\n        this.initiated = 0;\n        this.endTime = utils.getTime();\n\n        // reset if we are outside of the boundaries\n        if ( this.resetPosition(this.options.bounceTime) ) {\n            return;\n        }\n\n        this.scrollTo(newX, newY);  // ensures that the last position is rounded\n\n        // we scrolled less than 10 pixels\n        if ( !this.moved ) {\n            if ( this.options.tap ) {\n                utils.tap(e, this.options.tap);\n            }\n\n            if ( this.options.click ) {\n                utils.click(e);\n            }\n\n            this._execEvent('scrollCancel');\n            return;\n        }\n\n        if ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\n            this._execEvent('flick');\n            return;\n        }\n\n        // start momentum animation if needed\n        if ( this.options.momentum && duration < 300 ) {\n            momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\n            momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\n            newX = momentumX.destination;\n            newY = momentumY.destination;\n            time = Math.max(momentumX.duration, momentumY.duration);\n            this.isInTransition = 1;\n        }\n\n\n        if ( this.options.snap ) {\n            var snap = this._nearestSnap(newX, newY);\n            this.currentPage = snap;\n            time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(newX - snap.x), 1000),\n                        Math.min(Math.abs(newY - snap.y), 1000)\n                    ), 300);\n            newX = snap.x;\n            newY = snap.y;\n\n            this.directionX = 0;\n            this.directionY = 0;\n            easing = this.options.bounceEasing;\n        }\n\n// INSERT POINT: _end\n\n        if ( newX != this.x || newY != this.y ) {\n            // change easing function when scroller goes out of the boundaries\n            if ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\n                easing = utils.ease.quadratic;\n            }\n\n            this.scrollTo(newX, newY, time, easing);\n            return;\n        }\n\n        this._execEvent('scrollEnd');\n    },\n\n    _resize: function () {\n        var that = this;\n\n        clearTimeout(this.resizeTimeout);\n\n        this.resizeTimeout = setTimeout(function () {\n            that.refresh();\n        }, this.options.resizePolling);\n    },\n\n    resetPosition: function (time) {\n        var x = this.x,\n            y = this.y;\n\n        time = time || 0;\n\n        if ( !this.hasHorizontalScroll || this.x > 0 ) {\n            x = 0;\n        } else if ( this.x < this.maxScrollX ) {\n            x = this.maxScrollX;\n        }\n\n        if ( !this.hasVerticalScroll || this.y > 0 ) {\n            y = 0;\n        } else if ( this.y < this.maxScrollY ) {\n            y = this.maxScrollY;\n        }\n\n        if ( x == this.x && y == this.y ) {\n            return false;\n        }\n\n        this.scrollTo(x, y, time, this.options.bounceEasing);\n\n        return true;\n    },\n\n    disable: function () {\n        this.enabled = false;\n    },\n\n    enable: function () {\n        this.enabled = true;\n    },\n\n    refresh: function () {\n        var rf = this.wrapper.offsetHeight;     // Force reflow\n\n        this.wrapperWidth   = this.wrapper.clientWidth;\n        this.wrapperHeight  = this.wrapper.clientHeight;\n\n/* REPLACE START: refresh */\n\n        this.scrollerWidth  = this.scroller.offsetWidth;\n        this.scrollerHeight = this.scroller.offsetHeight;\n\n        this.maxScrollX     = this.wrapperWidth - this.scrollerWidth;\n        this.maxScrollY     = this.wrapperHeight - this.scrollerHeight;\n\n/* REPLACE END: refresh */\n\n        this.hasHorizontalScroll    = this.options.scrollX && this.maxScrollX < 0;\n        this.hasVerticalScroll      = this.options.scrollY && this.maxScrollY < 0;\n\n        if ( !this.hasHorizontalScroll ) {\n            this.maxScrollX = 0;\n            this.scrollerWidth = this.wrapperWidth;\n        }\n\n        if ( !this.hasVerticalScroll ) {\n            this.maxScrollY = 0;\n            this.scrollerHeight = this.wrapperHeight;\n        }\n\n        this.endTime = 0;\n        this.directionX = 0;\n        this.directionY = 0;\n\n        this.wrapperOffset = utils.offset(this.wrapper);\n\n        this._execEvent('refresh');\n\n        this.resetPosition();\n\n// INSERT POINT: _refresh\n\n    },\n\n    on: function (type, fn) {\n        if ( !this._events[type] ) {\n            this._events[type] = [];\n        }\n\n        this._events[type].push(fn);\n    },\n\n    off: function (type, fn) {\n        if ( !this._events[type] ) {\n            return;\n        }\n\n        var index = this._events[type].indexOf(fn);\n\n        if ( index > -1 ) {\n            this._events[type].splice(index, 1);\n        }\n    },\n\n    _execEvent: function (type) {\n        if ( !this._events[type] ) {\n            return;\n        }\n\n        var i = 0,\n            l = this._events[type].length;\n\n        if ( !l ) {\n            return;\n        }\n\n        for ( ; i < l; i++ ) {\n            this._events[type][i].apply(this, [].slice.call(arguments, 1));\n        }\n    },\n\n    scrollBy: function (x, y, time, easing) {\n        x = this.x + x;\n        y = this.y + y;\n        time = time || 0;\n\n        this.scrollTo(x, y, time, easing);\n    },\n\n    scrollTo: function (x, y, time, easing) {\n        easing = easing || utils.ease.circular;\n\n        this.isInTransition = this.options.useTransition && time > 0;\n        var transitionType = this.options.useTransition && easing.style;\n        if ( !time || transitionType ) {\n                if(transitionType) {\n                    this._transitionTimingFunction(easing.style);\n                    this._transitionTime(time);\n                }\n            this._translate(x, y);\n        } else {\n            this._animate(x, y, time, easing.fn);\n        }\n    },\n\n    scrollToElement: function (el, time, offsetX, offsetY, easing) {\n        el = el.nodeType ? el : this.scroller.querySelector(el);\n\n        if ( !el ) {\n            return;\n        }\n\n        var pos = utils.offset(el);\n\n        pos.left -= this.wrapperOffset.left;\n        pos.top  -= this.wrapperOffset.top;\n\n        // if offsetX/Y are true we center the element to the screen\n        if ( offsetX === true ) {\n            offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n        }\n        if ( offsetY === true ) {\n            offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n        }\n\n        pos.left -= offsetX || 0;\n        pos.top  -= offsetY || 0;\n\n        pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n        pos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\n\n        time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\n\n        this.scrollTo(pos.left, pos.top, time, easing);\n    },\n\n    _transitionTime: function (time) {\n        if (!this.options.useTransition) {\n            return;\n        }\n        time = time || 0;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n\n        this.scrollerStyle[durationProp] = time + 'ms';\n\n        if ( !time && utils.isBadAndroid ) {\n            this.scrollerStyle[durationProp] = '0.0001ms';\n            // remove 0.0001ms\n            var self = this;\n            rAF(function() {\n                if(self.scrollerStyle[durationProp] === '0.0001ms') {\n                    self.scrollerStyle[durationProp] = '0s';\n                }\n            });\n        }\n\n\n        if ( this.indicators ) {\n            for ( var i = this.indicators.length; i--; ) {\n                this.indicators[i].transitionTime(time);\n            }\n        }\n\n\n// INSERT POINT: _transitionTime\n\n    },\n\n    _transitionTimingFunction: function (easing) {\n        this.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n        if ( this.indicators ) {\n            for ( var i = this.indicators.length; i--; ) {\n                this.indicators[i].transitionTimingFunction(easing);\n            }\n        }\n\n\n// INSERT POINT: _transitionTimingFunction\n\n    },\n\n    _translate: function (x, y) {\n        if ( this.options.useTransform ) {\n\n/* REPLACE START: _translate */\n\n            this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n/* REPLACE END: _translate */\n\n        } else {\n            x = Math.round(x);\n            y = Math.round(y);\n            this.scrollerStyle.left = x + 'px';\n            this.scrollerStyle.top = y + 'px';\n        }\n\n        this.x = x;\n        this.y = y;\n\n\n    if ( this.indicators ) {\n        for ( var i = this.indicators.length; i--; ) {\n            this.indicators[i].updatePosition();\n        }\n    }\n\n\n// INSERT POINT: _translate\n\n    },\n\n    _initEvents: function (remove) {\n        var eventType = remove ? utils.removeEvent : utils.addEvent,\n            target = this.options.bindToWrapper ? this.wrapper : window;\n\n        eventType(window, 'orientationchange', this);\n        eventType(window, 'resize', this);\n\n        if ( this.options.click ) {\n            eventType(this.wrapper, 'click', this, true);\n        }\n\n        if ( !this.options.disableMouse ) {\n            eventType(this.wrapper, 'mousedown', this);\n            eventType(target, 'mousemove', this);\n            eventType(target, 'mousecancel', this);\n            eventType(target, 'mouseup', this);\n        }\n\n        if ( utils.hasPointer && !this.options.disablePointer ) {\n            eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n            eventType(target, utils.prefixPointerEvent('pointermove'), this);\n            eventType(target, utils.prefixPointerEvent('pointercancel'), this);\n            eventType(target, utils.prefixPointerEvent('pointerup'), this);\n        }\n\n        if ( utils.hasTouch && !this.options.disableTouch ) {\n            eventType(this.wrapper, 'touchstart', this);\n            eventType(target, 'touchmove', this);\n            eventType(target, 'touchcancel', this);\n            eventType(target, 'touchend', this);\n        }\n\n        eventType(this.scroller, 'transitionend', this);\n        eventType(this.scroller, 'webkitTransitionEnd', this);\n        eventType(this.scroller, 'oTransitionEnd', this);\n        eventType(this.scroller, 'MSTransitionEnd', this);\n    },\n\n    getComputedPosition: function () {\n        var matrix = window.getComputedStyle(this.scroller, null),\n            x, y;\n\n        if ( this.options.useTransform ) {\n            matrix = matrix[utils.style.transform].split(')')[0].split(', ');\n            x = +(matrix[12] || matrix[4]);\n            y = +(matrix[13] || matrix[5]);\n        } else {\n            x = +matrix.left.replace(/[^-\\d.]/g, '');\n            y = +matrix.top.replace(/[^-\\d.]/g, '');\n        }\n\n        return { x: x, y: y };\n    },\n    _initIndicators: function () {\n        var interactive = this.options.interactiveScrollbars,\n            customStyle = typeof this.options.scrollbars != 'string',\n            indicators = [],\n            indicator;\n\n        var that = this;\n\n        this.indicators = [];\n\n        if ( this.options.scrollbars ) {\n            // Vertical scrollbar\n            if ( this.options.scrollY ) {\n                indicator = {\n                    el: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n                    interactive: interactive,\n                    defaultScrollbars: true,\n                    customStyle: customStyle,\n                    resize: this.options.resizeScrollbars,\n                    shrink: this.options.shrinkScrollbars,\n                    fade: this.options.fadeScrollbars,\n                    listenX: false\n                };\n\n                this.wrapper.appendChild(indicator.el);\n                indicators.push(indicator);\n            }\n\n            // Horizontal scrollbar\n            if ( this.options.scrollX ) {\n                indicator = {\n                    el: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n                    interactive: interactive,\n                    defaultScrollbars: true,\n                    customStyle: customStyle,\n                    resize: this.options.resizeScrollbars,\n                    shrink: this.options.shrinkScrollbars,\n                    fade: this.options.fadeScrollbars,\n                    listenY: false\n                };\n\n                this.wrapper.appendChild(indicator.el);\n                indicators.push(indicator);\n            }\n        }\n\n        if ( this.options.indicators ) {\n            // TODO: check concat compatibility\n            indicators = indicators.concat(this.options.indicators);\n        }\n\n        for ( var i = indicators.length; i--; ) {\n            this.indicators.push( new Indicator(this, indicators[i]) );\n        }\n\n        // TODO: check if we can use array.map (wide compatibility and performance issues)\n        function _indicatorsMap (fn) {\n            if (that.indicators) {\n                for ( var i = that.indicators.length; i--; ) {\n                    fn.call(that.indicators[i]);\n                }\n            }\n        }\n\n        if ( this.options.fadeScrollbars ) {\n            this.on('scrollEnd', function () {\n                _indicatorsMap(function () {\n                    this.fade();\n                });\n            });\n\n            this.on('scrollCancel', function () {\n                _indicatorsMap(function () {\n                    this.fade();\n                });\n            });\n\n            this.on('scrollStart', function () {\n                _indicatorsMap(function () {\n                    this.fade(1);\n                });\n            });\n\n            this.on('beforeScrollStart', function () {\n                _indicatorsMap(function () {\n                    this.fade(1, true);\n                });\n            });\n        }\n\n\n        this.on('refresh', function () {\n            _indicatorsMap(function () {\n                this.refresh();\n            });\n        });\n\n        this.on('destroy', function () {\n            _indicatorsMap(function () {\n                this.destroy();\n            });\n\n            delete this.indicators;\n        });\n    },\n\n    _initWheel: function () {\n        utils.addEvent(this.wrapper, 'wheel', this);\n        utils.addEvent(this.wrapper, 'mousewheel', this);\n        utils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n        this.on('destroy', function () {\n            clearTimeout(this.wheelTimeout);\n            this.wheelTimeout = null;\n            utils.removeEvent(this.wrapper, 'wheel', this);\n            utils.removeEvent(this.wrapper, 'mousewheel', this);\n            utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n        });\n    },\n\n    _wheel: function (e) {\n        if ( !this.enabled ) {\n            return;\n        }\n\n        var wheelDeltaX, wheelDeltaY,\n            newX, newY,\n            that = this;\n\n        if ( this.wheelTimeout === undefined ) {\n            that._execEvent('scrollStart');\n        }\n\n        // Execute the scrollEnd event after 400ms the wheel stopped scrolling\n        clearTimeout(this.wheelTimeout);\n        this.wheelTimeout = setTimeout(function () {\n            if(!that.options.snap) {\n                that._execEvent('scrollEnd');\n            }\n            that.wheelTimeout = undefined;\n        }, 400);\n\n        if ( 'deltaX' in e ) {\n            if (e.deltaMode === 1) {\n                wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n                wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n            } else {\n                wheelDeltaX = -e.deltaX;\n                wheelDeltaY = -e.deltaY;\n            }\n        } else if ( 'wheelDeltaX' in e ) {\n            wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n            wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n        } else if ( 'wheelDelta' in e ) {\n            wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n        } else if ( 'detail' in e ) {\n            wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n        } else {\n            return;\n        }\n\n        wheelDeltaX *= this.options.invertWheelDirection;\n        wheelDeltaY *= this.options.invertWheelDirection;\n\n        if ( !this.hasVerticalScroll ) {\n            wheelDeltaX = wheelDeltaY;\n            wheelDeltaY = 0;\n        }\n\n        if ( this.options.snap ) {\n            newX = this.currentPage.pageX;\n            newY = this.currentPage.pageY;\n\n            if ( wheelDeltaX > 0 ) {\n                newX--;\n            } else if ( wheelDeltaX < 0 ) {\n                newX++;\n            }\n\n            if ( wheelDeltaY > 0 ) {\n                newY--;\n            } else if ( wheelDeltaY < 0 ) {\n                newY++;\n            }\n\n            this.goToPage(newX, newY);\n\n            return;\n        }\n\n        newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n        newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n        this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n        this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n        if ( newX > 0 ) {\n            newX = 0;\n        } else if ( newX < this.maxScrollX ) {\n            newX = this.maxScrollX;\n        }\n\n        if ( newY > 0 ) {\n            newY = 0;\n        } else if ( newY < this.maxScrollY ) {\n            newY = this.maxScrollY;\n        }\n\n        this.scrollTo(newX, newY, 0);\n\n// INSERT POINT: _wheel\n    },\n\n    _initSnap: function () {\n        this.currentPage = {};\n\n        if ( typeof this.options.snap == 'string' ) {\n            this.options.snap = this.scroller.querySelectorAll(this.options.snap);\n        }\n\n        this.on('refresh', function () {\n            var i = 0, l,\n                m = 0, n,\n                cx, cy,\n                x = 0, y,\n                stepX = this.options.snapStepX || this.wrapperWidth,\n                stepY = this.options.snapStepY || this.wrapperHeight,\n                el;\n\n            this.pages = [];\n\n            if ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\n                return;\n            }\n\n            if ( this.options.snap === true ) {\n                cx = Math.round( stepX / 2 );\n                cy = Math.round( stepY / 2 );\n\n                while ( x > -this.scrollerWidth ) {\n                    this.pages[i] = [];\n                    l = 0;\n                    y = 0;\n\n                    while ( y > -this.scrollerHeight ) {\n                        this.pages[i][l] = {\n                            x: Math.max(x, this.maxScrollX),\n                            y: Math.max(y, this.maxScrollY),\n                            width: stepX,\n                            height: stepY,\n                            cx: x - cx,\n                            cy: y - cy\n                        };\n\n                        y -= stepY;\n                        l++;\n                    }\n\n                    x -= stepX;\n                    i++;\n                }\n            } else {\n                el = this.options.snap;\n                l = el.length;\n                n = -1;\n\n                for ( ; i < l; i++ ) {\n                    if ( i === 0 || el[i].offsetLeft <= el[i-1].offsetLeft ) {\n                        m = 0;\n                        n++;\n                    }\n\n                    if ( !this.pages[m] ) {\n                        this.pages[m] = [];\n                    }\n\n                    x = Math.max(-el[i].offsetLeft, this.maxScrollX);\n                    y = Math.max(-el[i].offsetTop, this.maxScrollY);\n                    cx = x - Math.round(el[i].offsetWidth / 2);\n                    cy = y - Math.round(el[i].offsetHeight / 2);\n\n                    this.pages[m][n] = {\n                        x: x,\n                        y: y,\n                        width: el[i].offsetWidth,\n                        height: el[i].offsetHeight,\n                        cx: cx,\n                        cy: cy\n                    };\n\n                    if ( x > this.maxScrollX ) {\n                        m++;\n                    }\n                }\n            }\n\n            this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n            // Update snap threshold if needed\n            if ( this.options.snapThreshold % 1 === 0 ) {\n                this.snapThresholdX = this.options.snapThreshold;\n                this.snapThresholdY = this.options.snapThreshold;\n            } else {\n                this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n                this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n            }\n        });\n\n        this.on('flick', function () {\n            var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.x - this.startX), 1000),\n                        Math.min(Math.abs(this.y - this.startY), 1000)\n                    ), 300);\n\n            this.goToPage(\n                this.currentPage.pageX + this.directionX,\n                this.currentPage.pageY + this.directionY,\n                time\n            );\n        });\n    },\n\n    _nearestSnap: function (x, y) {\n        if ( !this.pages.length ) {\n            return { x: 0, y: 0, pageX: 0, pageY: 0 };\n        }\n\n        var i = 0,\n            l = this.pages.length,\n            m = 0;\n\n        // Check if we exceeded the snap threshold\n        if ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\n            Math.abs(y - this.absStartY) < this.snapThresholdY ) {\n            return this.currentPage;\n        }\n\n        if ( x > 0 ) {\n            x = 0;\n        } else if ( x < this.maxScrollX ) {\n            x = this.maxScrollX;\n        }\n\n        if ( y > 0 ) {\n            y = 0;\n        } else if ( y < this.maxScrollY ) {\n            y = this.maxScrollY;\n        }\n\n        for ( ; i < l; i++ ) {\n            if ( x >= this.pages[i][0].cx ) {\n                x = this.pages[i][0].x;\n                break;\n            }\n        }\n\n        l = this.pages[i].length;\n\n        for ( ; m < l; m++ ) {\n            if ( y >= this.pages[0][m].cy ) {\n                y = this.pages[0][m].y;\n                break;\n            }\n        }\n\n        if ( i == this.currentPage.pageX ) {\n            i += this.directionX;\n\n            if ( i < 0 ) {\n                i = 0;\n            } else if ( i >= this.pages.length ) {\n                i = this.pages.length - 1;\n            }\n\n            x = this.pages[i][0].x;\n        }\n\n        if ( m == this.currentPage.pageY ) {\n            m += this.directionY;\n\n            if ( m < 0 ) {\n                m = 0;\n            } else if ( m >= this.pages[0].length ) {\n                m = this.pages[0].length - 1;\n            }\n\n            y = this.pages[0][m].y;\n        }\n\n        return {\n            x: x,\n            y: y,\n            pageX: i,\n            pageY: m\n        };\n    },\n\n    goToPage: function (x, y, time, easing) {\n        easing = easing || this.options.bounceEasing;\n\n        if ( x >= this.pages.length ) {\n            x = this.pages.length - 1;\n        } else if ( x < 0 ) {\n            x = 0;\n        }\n\n        if ( y >= this.pages[x].length ) {\n            y = this.pages[x].length - 1;\n        } else if ( y < 0 ) {\n            y = 0;\n        }\n\n        var posX = this.pages[x][y].x,\n            posY = this.pages[x][y].y;\n\n        time = time === undefined ? this.options.snapSpeed || Math.max(\n            Math.max(\n                Math.min(Math.abs(posX - this.x), 1000),\n                Math.min(Math.abs(posY - this.y), 1000)\n            ), 300) : time;\n\n        this.currentPage = {\n            x: posX,\n            y: posY,\n            pageX: x,\n            pageY: y\n        };\n\n        this.scrollTo(posX, posY, time, easing);\n    },\n\n    next: function (time, easing) {\n        var x = this.currentPage.pageX,\n            y = this.currentPage.pageY;\n\n        x++;\n\n        if ( x >= this.pages.length && this.hasVerticalScroll ) {\n            x = 0;\n            y++;\n        }\n\n        this.goToPage(x, y, time, easing);\n    },\n\n    prev: function (time, easing) {\n        var x = this.currentPage.pageX,\n            y = this.currentPage.pageY;\n\n        x--;\n\n        if ( x < 0 && this.hasVerticalScroll ) {\n            x = 0;\n            y--;\n        }\n\n        this.goToPage(x, y, time, easing);\n    },\n\n    _initKeys: function (e) {\n        // default key bindings\n        var keys = {\n            pageUp: 33,\n            pageDown: 34,\n            end: 35,\n            home: 36,\n            left: 37,\n            up: 38,\n            right: 39,\n            down: 40\n        };\n        var i;\n\n        // if you give me characters I give you keycode\n        if ( typeof this.options.keyBindings == 'object' ) {\n            for ( i in this.options.keyBindings ) {\n                if ( typeof this.options.keyBindings[i] == 'string' ) {\n                    this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n                }\n            }\n        } else {\n            this.options.keyBindings = {};\n        }\n\n        for ( i in keys ) {\n            this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n        }\n\n        utils.addEvent(window, 'keydown', this);\n\n        this.on('destroy', function () {\n            utils.removeEvent(window, 'keydown', this);\n        });\n    },\n\n    _key: function (e) {\n        if ( !this.enabled ) {\n            return;\n        }\n\n        var snap = this.options.snap,   // we are using this alot, better to cache it\n            newX = snap ? this.currentPage.pageX : this.x,\n            newY = snap ? this.currentPage.pageY : this.y,\n            now = utils.getTime(),\n            prevTime = this.keyTime || 0,\n            acceleration = 0.250,\n            pos;\n\n        if ( this.options.useTransition && this.isInTransition ) {\n            pos = this.getComputedPosition();\n\n            this._translate(Math.round(pos.x), Math.round(pos.y));\n            this.isInTransition = false;\n        }\n\n        this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n        switch ( e.keyCode ) {\n            case this.options.keyBindings.pageUp:\n                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                    newX += snap ? 1 : this.wrapperWidth;\n                } else {\n                    newY += snap ? 1 : this.wrapperHeight;\n                }\n                break;\n            case this.options.keyBindings.pageDown:\n                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n                    newX -= snap ? 1 : this.wrapperWidth;\n                } else {\n                    newY -= snap ? 1 : this.wrapperHeight;\n                }\n                break;\n            case this.options.keyBindings.end:\n                newX = snap ? this.pages.length-1 : this.maxScrollX;\n                newY = snap ? this.pages[0].length-1 : this.maxScrollY;\n                break;\n            case this.options.keyBindings.home:\n                newX = 0;\n                newY = 0;\n                break;\n            case this.options.keyBindings.left:\n                newX += snap ? -1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.up:\n                newY += snap ? 1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.right:\n                newX -= snap ? -1 : 5 + this.keyAcceleration>>0;\n                break;\n            case this.options.keyBindings.down:\n                newY -= snap ? 1 : 5 + this.keyAcceleration>>0;\n                break;\n            default:\n                return;\n        }\n\n        if ( snap ) {\n            this.goToPage(newX, newY);\n            return;\n        }\n\n        if ( newX > 0 ) {\n            newX = 0;\n            this.keyAcceleration = 0;\n        } else if ( newX < this.maxScrollX ) {\n            newX = this.maxScrollX;\n            this.keyAcceleration = 0;\n        }\n\n        if ( newY > 0 ) {\n            newY = 0;\n            this.keyAcceleration = 0;\n        } else if ( newY < this.maxScrollY ) {\n            newY = this.maxScrollY;\n            this.keyAcceleration = 0;\n        }\n\n        this.scrollTo(newX, newY, 0);\n\n        this.keyTime = now;\n    },\n\n    _animate: function (destX, destY, duration, easingFn) {\n        var that = this,\n            startX = this.x,\n            startY = this.y,\n            startTime = utils.getTime(),\n            destTime = startTime + duration;\n\n        function step () {\n            var now = utils.getTime(),\n                newX, newY,\n                easing;\n\n            if ( now >= destTime ) {\n                that.isAnimating = false;\n                that._translate(destX, destY);\n\n                if ( !that.resetPosition(that.options.bounceTime) ) {\n                    that._execEvent('scrollEnd');\n                }\n\n                return;\n            }\n\n            now = ( now - startTime ) / duration;\n            easing = easingFn(now);\n            newX = ( destX - startX ) * easing + startX;\n            newY = ( destY - startY ) * easing + startY;\n            that._translate(newX, newY);\n\n            if ( that.isAnimating ) {\n                rAF(step);\n            }\n        }\n\n        this.isAnimating = true;\n        step();\n    },\n    handleEvent: function (e) {\n        switch ( e.type ) {\n            case 'touchstart':\n            case 'pointerdown':\n            case 'MSPointerDown':\n            case 'mousedown':\n                this._start(e);\n                break;\n            case 'touchmove':\n            case 'pointermove':\n            case 'MSPointerMove':\n            case 'mousemove':\n                this._move(e);\n                break;\n            case 'touchend':\n            case 'pointerup':\n            case 'MSPointerUp':\n            case 'mouseup':\n            case 'touchcancel':\n            case 'pointercancel':\n            case 'MSPointerCancel':\n            case 'mousecancel':\n                this._end(e);\n                break;\n            case 'orientationchange':\n            case 'resize':\n                this._resize();\n                break;\n            case 'transitionend':\n            case 'webkitTransitionEnd':\n            case 'oTransitionEnd':\n            case 'MSTransitionEnd':\n                this._transitionEnd(e);\n                break;\n            case 'wheel':\n            case 'DOMMouseScroll':\n            case 'mousewheel':\n                this._wheel(e);\n                break;\n            case 'keydown':\n                this._key(e);\n                break;\n            case 'click':\n                if ( this.enabled && !e._constructed ) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n        }\n    }\n};\nfunction createDefaultScrollbar (direction, interactive, type) {\n    var scrollbar = document.createElement('div'),\n        indicator = document.createElement('div');\n\n    if ( type === true ) {\n        scrollbar.style.cssText = 'position:absolute;z-index:9999';\n        indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n    }\n\n    indicator.className = 'iScrollIndicator';\n\n    if ( direction == 'h' ) {\n        if ( type === true ) {\n            scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n            indicator.style.height = '100%';\n        }\n        scrollbar.className = 'iScrollHorizontalScrollbar';\n    } else {\n        if ( type === true ) {\n            scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n            indicator.style.width = '100%';\n        }\n        scrollbar.className = 'iScrollVerticalScrollbar';\n    }\n\n    scrollbar.style.cssText += ';overflow:hidden';\n\n    if ( !interactive ) {\n        scrollbar.style.pointerEvents = 'none';\n    }\n\n    scrollbar.appendChild(indicator);\n\n    return scrollbar;\n}\n\nfunction Indicator (scroller, options) {\n    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n    this.wrapperStyle = this.wrapper.style;\n    this.indicator = this.wrapper.children[0];\n    this.indicatorStyle = this.indicator.style;\n    this.scroller = scroller;\n\n    this.options = {\n        listenX: true,\n        listenY: true,\n        interactive: false,\n        resize: true,\n        defaultScrollbars: false,\n        shrink: false,\n        fade: false,\n        speedRatioX: 0,\n        speedRatioY: 0\n    };\n\n    for ( var i in options ) {\n        this.options[i] = options[i];\n    }\n\n    this.sizeRatioX = 1;\n    this.sizeRatioY = 1;\n    this.maxPosX = 0;\n    this.maxPosY = 0;\n\n    if ( this.options.interactive ) {\n        if ( !this.options.disableTouch ) {\n            utils.addEvent(this.indicator, 'touchstart', this);\n            utils.addEvent(window, 'touchend', this);\n        }\n        if ( !this.options.disablePointer ) {\n            utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n            utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n        }\n        if ( !this.options.disableMouse ) {\n            utils.addEvent(this.indicator, 'mousedown', this);\n            utils.addEvent(window, 'mouseup', this);\n        }\n    }\n\n    if ( this.options.fade ) {\n        this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n        this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\n        // remove 0.0001ms\n        var self = this;\n        if(utils.isBadAndroid) {\n            rAF(function() {\n                if(self.wrapperStyle[durationProp] === '0.0001ms') {\n                    self.wrapperStyle[durationProp] = '0s';\n                }\n            });\n        }\n        this.wrapperStyle.opacity = '0';\n    }\n}\n\nIndicator.prototype = {\n    handleEvent: function (e) {\n        switch ( e.type ) {\n            case 'touchstart':\n            case 'pointerdown':\n            case 'MSPointerDown':\n            case 'mousedown':\n                this._start(e);\n                break;\n            case 'touchmove':\n            case 'pointermove':\n            case 'MSPointerMove':\n            case 'mousemove':\n                this._move(e);\n                break;\n            case 'touchend':\n            case 'pointerup':\n            case 'MSPointerUp':\n            case 'mouseup':\n            case 'touchcancel':\n            case 'pointercancel':\n            case 'MSPointerCancel':\n            case 'mousecancel':\n                this._end(e);\n                break;\n        }\n    },\n\n    destroy: function () {\n        if ( this.options.fadeScrollbars ) {\n            clearTimeout(this.fadeTimeout);\n            this.fadeTimeout = null;\n        }\n        if ( this.options.interactive ) {\n            utils.removeEvent(this.indicator, 'touchstart', this);\n            utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n            utils.removeEvent(this.indicator, 'mousedown', this);\n\n            utils.removeEvent(window, 'touchmove', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n            utils.removeEvent(window, 'mousemove', this);\n\n            utils.removeEvent(window, 'touchend', this);\n            utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n            utils.removeEvent(window, 'mouseup', this);\n        }\n\n        if ( this.options.defaultScrollbars ) {\n            this.wrapper.parentNode.removeChild(this.wrapper);\n        }\n    },\n\n    _start: function (e) {\n        var point = e.touches ? e.touches[0] : e;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.transitionTime();\n\n        this.initiated = true;\n        this.moved = false;\n        this.lastPointX = point.pageX;\n        this.lastPointY = point.pageY;\n\n        this.startTime  = utils.getTime();\n\n        if ( !this.options.disableTouch ) {\n            utils.addEvent(window, 'touchmove', this);\n        }\n        if ( !this.options.disablePointer ) {\n            utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        }\n        if ( !this.options.disableMouse ) {\n            utils.addEvent(window, 'mousemove', this);\n        }\n\n        this.scroller._execEvent('beforeScrollStart');\n    },\n\n    _move: function (e) {\n        var point = e.touches ? e.touches[0] : e,\n            deltaX, deltaY,\n            newX, newY,\n            timestamp = utils.getTime();\n\n        if ( !this.moved ) {\n            this.scroller._execEvent('scrollStart');\n        }\n\n        this.moved = true;\n\n        deltaX = point.pageX - this.lastPointX;\n        this.lastPointX = point.pageX;\n\n        deltaY = point.pageY - this.lastPointY;\n        this.lastPointY = point.pageY;\n\n        newX = this.x + deltaX;\n        newY = this.y + deltaY;\n\n        this._pos(newX, newY);\n\n// INSERT POINT: indicator._move\n\n        e.preventDefault();\n        e.stopPropagation();\n    },\n\n    _end: function (e) {\n        if ( !this.initiated ) {\n            return;\n        }\n\n        this.initiated = false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        utils.removeEvent(window, 'touchmove', this);\n        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n        utils.removeEvent(window, 'mousemove', this);\n\n        if ( this.scroller.options.snap ) {\n            var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n            var time = this.options.snapSpeed || Math.max(\n                    Math.max(\n                        Math.min(Math.abs(this.scroller.x - snap.x), 1000),\n                        Math.min(Math.abs(this.scroller.y - snap.y), 1000)\n                    ), 300);\n\n            if ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\n                this.scroller.directionX = 0;\n                this.scroller.directionY = 0;\n                this.scroller.currentPage = snap;\n                this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n            }\n        }\n\n        if ( this.moved ) {\n            this.scroller._execEvent('scrollEnd');\n        }\n    },\n\n    transitionTime: function (time) {\n        time = time || 0;\n        var durationProp = utils.style.transitionDuration;\n        if(!durationProp) {\n            return;\n        }\n\n        this.indicatorStyle[durationProp] = time + 'ms';\n\n        if ( !time && utils.isBadAndroid ) {\n            this.indicatorStyle[durationProp] = '0.0001ms';\n            // remove 0.0001ms\n            var self = this;\n            rAF(function() {\n                if(self.indicatorStyle[durationProp] === '0.0001ms') {\n                    self.indicatorStyle[durationProp] = '0s';\n                }\n            });\n        }\n    },\n\n    transitionTimingFunction: function (easing) {\n        this.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n    },\n\n    refresh: function () {\n        this.transitionTime();\n\n        if ( this.options.listenX && !this.options.listenY ) {\n            this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n        } else if ( this.options.listenY && !this.options.listenX ) {\n            this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n        } else {\n            this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n        }\n\n        if ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\n            utils.addClass(this.wrapper, 'iScrollBothScrollbars');\n            utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n            if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                if ( this.options.listenX ) {\n                    this.wrapper.style.right = '8px';\n                } else {\n                    this.wrapper.style.bottom = '8px';\n                }\n            }\n        } else {\n            utils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n            utils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n            if ( this.options.defaultScrollbars && this.options.customStyle ) {\n                if ( this.options.listenX ) {\n                    this.wrapper.style.right = '2px';\n                } else {\n                    this.wrapper.style.bottom = '2px';\n                }\n            }\n        }\n\n        var r = this.wrapper.offsetHeight;  // force refresh\n\n        if ( this.options.listenX ) {\n            this.wrapperWidth = this.wrapper.clientWidth;\n            if ( this.options.resize ) {\n                this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n                this.indicatorStyle.width = this.indicatorWidth + 'px';\n            } else {\n                this.indicatorWidth = this.indicator.clientWidth;\n            }\n\n            this.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n            if ( this.options.shrink == 'clip' ) {\n                this.minBoundaryX = -this.indicatorWidth + 8;\n                this.maxBoundaryX = this.wrapperWidth - 8;\n            } else {\n                this.minBoundaryX = 0;\n                this.maxBoundaryX = this.maxPosX;\n            }\n\n            this.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n        }\n\n        if ( this.options.listenY ) {\n            this.wrapperHeight = this.wrapper.clientHeight;\n            if ( this.options.resize ) {\n                this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n                this.indicatorStyle.height = this.indicatorHeight + 'px';\n            } else {\n                this.indicatorHeight = this.indicator.clientHeight;\n            }\n\n            this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n            if ( this.options.shrink == 'clip' ) {\n                this.minBoundaryY = -this.indicatorHeight + 8;\n                this.maxBoundaryY = this.wrapperHeight - 8;\n            } else {\n                this.minBoundaryY = 0;\n                this.maxBoundaryY = this.maxPosY;\n            }\n\n            this.maxPosY = this.wrapperHeight - this.indicatorHeight;\n            this.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n        }\n\n        this.updatePosition();\n    },\n\n    updatePosition: function () {\n        var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n            y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n        if ( !this.options.ignoreBoundaries ) {\n            if ( x < this.minBoundaryX ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.width = Math.max(this.indicatorWidth + x, 8);\n                    this.indicatorStyle.width = this.width + 'px';\n                }\n                x = this.minBoundaryX;\n            } else if ( x > this.maxBoundaryX ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n                    this.indicatorStyle.width = this.width + 'px';\n                    x = this.maxPosX + this.indicatorWidth - this.width;\n                } else {\n                    x = this.maxBoundaryX;\n                }\n            } else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\n                this.width = this.indicatorWidth;\n                this.indicatorStyle.width = this.width + 'px';\n            }\n\n            if ( y < this.minBoundaryY ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.height = Math.max(this.indicatorHeight + y * 3, 8);\n                    this.indicatorStyle.height = this.height + 'px';\n                }\n                y = this.minBoundaryY;\n            } else if ( y > this.maxBoundaryY ) {\n                if ( this.options.shrink == 'scale' ) {\n                    this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n                    this.indicatorStyle.height = this.height + 'px';\n                    y = this.maxPosY + this.indicatorHeight - this.height;\n                } else {\n                    y = this.maxBoundaryY;\n                }\n            } else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\n                this.height = this.indicatorHeight;\n                this.indicatorStyle.height = this.height + 'px';\n            }\n        }\n\n        this.x = x;\n        this.y = y;\n\n        if ( this.scroller.options.useTransform ) {\n            this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n        } else {\n            this.indicatorStyle.left = x + 'px';\n            this.indicatorStyle.top = y + 'px';\n        }\n    },\n\n    _pos: function (x, y) {\n        if ( x < 0 ) {\n            x = 0;\n        } else if ( x > this.maxPosX ) {\n            x = this.maxPosX;\n        }\n\n        if ( y < 0 ) {\n            y = 0;\n        } else if ( y > this.maxPosY ) {\n            y = this.maxPosY;\n        }\n\n        x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n        y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n        this.scroller.scrollTo(x, y);\n    },\n\n    fade: function (val, hold) {\n        if ( hold && !this.visible ) {\n            return;\n        }\n\n        clearTimeout(this.fadeTimeout);\n        this.fadeTimeout = null;\n\n        var time = val ? 250 : 500,\n            delay = val ? 0 : 300;\n\n        val = val ? '1' : '0';\n\n        this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n        this.fadeTimeout = setTimeout((function (val) {\n            this.wrapperStyle.opacity = val;\n            this.visible = +val;\n        }).bind(this, val), delay);\n    }\n};\n\nIScroll.utils = utils;\n\nif ( typeof module != 'undefined' && module.exports ) {\n    module.exports = IScroll;\n} else if ( typeof define == 'function' && define.amd ) {\n        define( function () { return IScroll; } );\n} else {\n    window.IScroll = IScroll;\n}\n\n})(window, document, Math);\n\n/*!\n * fullPage ScrollOverflow\n * https://github.com/alvarotrigo/fullPage.js\n * @license MIT licensed\n *\n * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo\n */\n(function(window, $) {\n    var ACTIVE =                'active';\n    var ACTIVE_SEL =            '.' + ACTIVE;\n\n    var SECTION =               'fp-section';\n    var SECTION_SEL =           '.' + SECTION;\n    var SECTION_ACTIVE_SEL =    SECTION_SEL + ACTIVE_SEL;\n\n    var SLIDE =                 'fp-slide';\n    var SLIDE_SEL =             '.' + SLIDE;\n    var SLIDE_ACTIVE_SEL =      SLIDE_SEL + ACTIVE_SEL;\n    var SLIDES_WRAPPER =        'fp-slides';\n    var SLIDES_WRAPPER_SEL =    '.' + SLIDES_WRAPPER;\n\n    // scrolloverflow\n    var SCROLLABLE =            'fp-scrollable';\n    var SCROLLABLE_SEL =        '.' + SCROLLABLE;\n\n    if(typeof IScroll !== 'undefined'){\n        /*\n        * Turns iScroll `mousewheel` option off dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOn = function () {\n            this.wrapper.addEventListener('wheel', this);\n            this.wrapper.addEventListener('mousewheel', this);\n            this.wrapper.addEventListener('DOMMouseScroll', this);\n        };\n\n        /*\n        * Turns iScroll `mousewheel` option on dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOff = function () {\n            this.wrapper.removeEventListener('wheel', this);\n            this.wrapper.removeEventListener('mousewheel', this);\n            this.wrapper.removeEventListener('DOMMouseScroll', this);\n        };\n    }\n\n    /**\n     * An object to handle overflow scrolling.\n     * This uses jquery.slimScroll to accomplish overflow scrolling.\n     * It is possible to pass in an alternate scrollOverflowHandler\n     * to the fullpage.js option that implements the same functions\n     * as this handler.\n     *\n     * @type {Object}\n     */\n    window.iscrollHandler = {\n        refreshId: null,\n        iScrollInstances: [],\n\n        // Enables or disables the mouse wheel for the active section or all slides in it\n        toggleWheel: function(value){\n            var scrollable = $(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);\n            scrollable.each(function(){\n                var iScrollInstance = $(this).data('iscrollInstance');\n                if(typeof iScrollInstance !== 'undefined' && iScrollInstance){\n                    if(value){\n                        iScrollInstance.wheelOn();\n                    }\n                    else{\n                        iScrollInstance.wheelOff();\n                    }\n                }\n            });\n        },\n\n        /**\n        * Turns off iScroll for the destination section.\n        * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n        * scroll the destination section/slide before the sections animations ends.\n        */\n        onLeave: function(){\n            iscrollHandler.toggleWheel(false);\n        },\n\n        // Turns off iScroll for the leaving section\n        beforeLeave: function(){\n            iscrollHandler.onLeave()\n        },\n\n        // Turns on iScroll on section load\n        afterLoad: function(){\n            iscrollHandler.toggleWheel(true);\n        },\n\n        /**\n         * Called when overflow scrolling is needed for a section.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         * @param  {Number} scrollHeight Current window height in pixels\n         */\n        create: function(element, scrollHeight, scrollOverflowOptions) {\n            var scrollable = element.find(SCROLLABLE_SEL);\n\n            scrollable.height(scrollHeight);\n            scrollable.each(function() {\n                var $this = $(this);\n                var iScrollInstance = $this.data('iscrollInstance');\n                if (iScrollInstance) {\n                    $.each(iscrollHandler.iScrollInstances, function(){\n                        $(this).destroy();\n                    });\n                }\n\n                iScrollInstance = new IScroll($this.get(0), scrollOverflowOptions);\n\n                iScrollInstance.on('scrollEnd', function() {\n                    this['fp_isAtTop'] = this.y > -30;\n                    this['fp_isAtEnd'] = this.y - this.maxScrollY < 30;\n                });\n\n                iscrollHandler.iScrollInstances.push(iScrollInstance);\n\n                //off by default until the section gets active\n                iScrollInstance.wheelOff();\n\n                $this.data('iscrollInstance', iScrollInstance);\n            });\n        },\n\n        /**\n         * Return a boolean depending on whether the scrollable element is a\n         * the end or at the start of the scrolling depending on the given type.\n         *\n         * @param  {String}  type       Either 'top' or 'bottom'\n         * @param  {Object}  scrollable jQuery object for the scrollable element\n         * @return {Boolean}\n         */\n        isScrolled: function(type, scrollable) {\n            var scroller = scrollable.data('iscrollInstance');\n\n            //no scroller?\n            if (!scroller) {\n                return true;\n            }\n\n            if (type === 'top') {\n                return scroller.y >= 0 && !scrollable.scrollTop();\n            } else if (type === 'bottom') {\n                return (0 - scroller.y) + scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;\n            }\n        },\n\n        /**\n         * Returns the scrollable element for the given section.\n         * If there are landscape slides, will only return a scrollable element\n         * if it is in the active slide.\n         *\n         * @param  {Object}  activeSection jQuery object containing current section\n         * @return {Boolean}\n         */\n        scrollable: function(activeSection){\n            // if there are landscape slides, we check if the scrolling bar is in the current one or not\n            if (activeSection.find(SLIDES_WRAPPER_SEL).length) {\n                return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL);\n            }\n            return activeSection.find(SCROLLABLE_SEL);\n        },\n\n        /**\n         * Returns the scroll height of the wrapped content.\n         * If this is larger than the window height minus section padding,\n         * overflow scrolling is needed.\n         *\n         * @param  {Object} element jQuery object containing current section\n         * @return {Number}\n         */\n        scrollHeight: function(element) {\n            return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight;\n        },\n\n        /**\n         * Called when overflow scrolling is no longer needed for a section.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         */\n        remove: function(element) {\n            var scrollable = element.find(SCROLLABLE_SEL);\n            if (scrollable.length) {\n                var iScrollInstance = scrollable.data('iscrollInstance');\n                if(iScrollInstance){\n                    iScrollInstance.destroy();\n                }\n\n                scrollable.data('iscrollInstance', null);\n            }\n            element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap();\n        },\n\n        /**\n         * Called when overflow scrolling has already been setup but the\n         * window height has potentially changed.\n         *\n         * @param  {Object} element      jQuery object containing current section\n         * @param  {Number} scrollHeight Current window height in pixels\n         */\n        update: function(element, scrollHeight) {\n            //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n            //short period of time.\n            //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n            clearTimeout(iscrollHandler.refreshId);\n            iscrollHandler.refreshId = setTimeout(function(){\n                $.each(iscrollHandler.iScrollInstances, function(){\n                    $(this).get(0).refresh();\n                });\n            }, 150);\n\n            //updating the wrappers height\n            element.find(SCROLLABLE_SEL).css('height', scrollHeight + 'px').parent().css('height', scrollHeight + 'px');\n        },\n\n        /**\n         * Called to get any additional elements needed to wrap the section\n         * content in order to facilitate overflow scrolling.\n         *\n         * @return {String|Object} Can be a string containing HTML,\n         *                         a DOM element, or jQuery object.\n         */\n        wrapContent: function() {\n            return '<div class=\"' + SCROLLABLE + '\"><div class=\"fp-scroller\"></div></div>';\n        }\n    };\n})(window, jQuery);\n\n\n// scrolloverflow module\n(function (window, document, $) {\n    $.fn.fp_scrolloverflow = (function() {\n\n        // keeping central set of classnames and selectors\n        var SCROLLABLE =            'fp-scrollable';\n        var SCROLLABLE_SEL =        '.' + SCROLLABLE;\n\n        var ACTIVE =                'active';\n        var ACTIVE_SEL =            '.' + ACTIVE;\n\n        var SECTION =               'fp-section';\n        var SECTION_SEL =           '.' + SECTION;\n        var SECTION_ACTIVE_SEL =    SECTION_SEL + ACTIVE_SEL;\n\n        var SLIDE =                 'fp-slide';\n        var SLIDE_SEL =             '.' + SLIDE;\n        var SLIDE_ACTIVE_SEL =      SLIDE_SEL + ACTIVE_SEL;\n\n        var SLIDES_WRAPPER =        'fp-slides';\n        var SLIDES_WRAPPER_SEL =    '.' + SLIDES_WRAPPER;\n\n        var TABLE_CELL =            'fp-tableCell';\n        var TABLE_CELL_SEL =        '.' + TABLE_CELL;\n\n        var RESPONSIVE =            'fp-responsive';\n        var AUTO_HEIGHT_RESPONSIVE= 'fp-auto-height-responsive';\n\n        /*\n        * Turns iScroll `mousewheel` option off dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOn = function () {\n            this.wrapper.addEventListener('wheel', this);\n            this.wrapper.addEventListener('mousewheel', this);\n            this.wrapper.addEventListener('DOMMouseScroll', this);\n        };\n\n        /*\n        * Turns iScroll `mousewheel` option on dynamically\n        * https://github.com/cubiq/iscroll/issues/1036\n        */\n        IScroll.prototype.wheelOff = function () {\n            this.wrapper.removeEventListener('wheel', this);\n            this.wrapper.removeEventListener('mousewheel', this);\n            this.wrapper.removeEventListener('DOMMouseScroll', this);\n        };\n\n\n        function scrollBarHandler(){\n            var self = this;\n            self.options = null;\n\n            self.init = function(options, iscrollOptions){\n                self.options = options;\n                self.iscrollOptions = iscrollOptions;\n\n                if(document.readyState === 'complete'){\n                    createScrollBarForAll();\n                    $.fn.fullpage.shared.afterRenderActions();\n                }\n                //after DOM and images are loaded\n                $(window).on('load', function(){\n                    createScrollBarForAll();\n                    $.fn.fullpage.shared.afterRenderActions();\n                });\n\n                return self;\n            };\n\n            /**\n            * Creates the scrollbar for the sections and slides in the site\n            */\n            function createScrollBarForAll(){\n                if($('body').hasClass(RESPONSIVE)){\n                    removeResponsiveScrollOverflows();\n                }\n                else{\n                    forEachSectionAndSlide(createScrollBar);\n                }\n            }\n\n            /**\n            * Returns an integer representing the padding dimensions in px.\n            */\n            function getPaddings(element){\n                var section = element.closest(SECTION_SEL);\n                if(section.length){\n                    return parseInt(section.css('padding-bottom')) + parseInt(section.css('padding-top'));\n                }\n                return 0;\n            }\n\n            /**\n            * Checks if the element needs scrollbar and if the user wants to apply it.\n            * If so it creates it.\n            *\n            * @param {Object} element   jQuery object of the section or slide\n            */\n            function createScrollBar(element){\n                //User doesn't want scrollbar here? Sayonara baby!\n                if(element.hasClass('fp-noscroll')) return;\n\n                //necessary to make `scrollHeight` work under Opera 12\n                element.css('overflow', 'hidden');\n\n                var scrollOverflowHandler = self.options.scrollOverflowHandler;\n                var wrap = scrollOverflowHandler.wrapContent();\n                var section = element.closest(SECTION_SEL); //in case element is a slide\n                var scrollable = scrollOverflowHandler.scrollable(element);\n                var contentHeight;\n                var paddings = getPaddings(section);\n\n                //if there was scroll, the contentHeight will be the one in the scrollable section\n                if(scrollable.length){\n                    contentHeight = scrollOverflowHandler.scrollHeight(element);\n                }\n                else{\n                    contentHeight = element.get(0).scrollHeight - paddings;\n                    if(self.options.verticalCentered){\n                        contentHeight = element.find(TABLE_CELL_SEL).get(0).scrollHeight - paddings;\n                    }\n                }\n\n                var scrollHeight = $(window).height() - paddings;\n\n                //needs scroll?\n                if ( contentHeight > scrollHeight) {\n                    //did we already have an scrollbar ? Updating it\n                    if(scrollable.length){\n                        scrollOverflowHandler.update(element, scrollHeight);\n                    }\n                    //creating the scrolling\n                    else{\n                        if(self.options.verticalCentered){\n                            element.find(TABLE_CELL_SEL).wrapInner(wrap);\n                        }else{\n                            element.wrapInner(wrap);\n                        }\n                        scrollOverflowHandler.create(element, scrollHeight, self.iscrollOptions);\n                    }\n                }\n                //removing the scrolling when it is not necessary anymore\n                else{\n                    scrollOverflowHandler.remove(element);\n                }\n\n                //undo\n                element.css('overflow', '');\n            }\n\n            /**\n            * Applies a callback function to each section in the site\n            * or the slides within them\n            */\n            function forEachSectionAndSlide(callback){\n                $(SECTION_SEL).each(function(){\n                    var slides = $(this).find(SLIDE_SEL);\n\n                    if(slides.length){\n                        slides.each(function(){\n                            callback($(this));\n                        });\n                    }else{\n                        callback($(this));\n                    }\n                });\n            }\n\n            /**\n            * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`\n            */\n            function removeResponsiveScrollOverflows(){\n                var scrollOverflowHandler = self.options.scrollOverflowHandler;\n                forEachSectionAndSlide(function(element){\n                    if(element.closest(SECTION_SEL).hasClass(AUTO_HEIGHT_RESPONSIVE)){\n                        scrollOverflowHandler.remove(element);\n                    }\n                });\n            }\n\n            //public functions\n            self.createScrollBarForAll = createScrollBarForAll;\n        }\n\n        /**\n         * An object to handle overflow scrolling.\n         * This uses jquery.slimScroll to accomplish overflow scrolling.\n         * It is possible to pass in an alternate scrollOverflowHandler\n         * to the fullpage.js option that implements the same functions\n         * as this handler.\n         *\n         * @type {Object}\n         */\n        var iscrollHandler = {\n            refreshId: null,\n            iScrollInstances: [],\n\n            // Default options for iScroll.js used when using scrollOverflow\n            iscrollOptions: {\n                scrollbars: true,\n                mouseWheel: true,\n                hideScrollbars: false,\n                fadeScrollbars: false,\n                disableMouse: true,\n                interactiveScrollbars: true\n            },\n\n            init: function(options){\n                var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));\n\n                //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783\n                iscrollHandler.iscrollOptions.click = isTouch; // see #2035\n\n                //extending iScroll options with the user custom ones\n                iscrollHandler.iscrollOptions = $.extend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);\n\n                return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);\n            },\n\n            // Enables or disables the mouse wheel for the active section or all slides in it\n            toggleWheel: function(value){\n                var scrollable = $(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);\n                scrollable.each(function(){\n                    var iScrollInstance = $(this).data('iscrollInstance');\n                    if(typeof iScrollInstance !== 'undefined' && iScrollInstance){\n                        if(value){\n                            iScrollInstance.wheelOn();\n                        }\n                        else{\n                            iScrollInstance.wheelOff();\n                        }\n                    }\n                });\n            },\n\n            /**\n            * Turns off iScroll for the destination section.\n            * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would\n            * scroll the destination section/slide before the sections animations ends.\n            */\n            onLeave: function(){\n                iscrollHandler.toggleWheel(false);\n            },\n\n            // Turns off iScroll for the leaving section\n            beforeLeave: function(){\n                iscrollHandler.onLeave()\n            },\n\n            // Turns on iScroll on section load\n            afterLoad: function(){\n                iscrollHandler.toggleWheel(true);\n            },\n\n            /**\n             * Called when overflow scrolling is needed for a section.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             * @param  {Number} scrollHeight Current window height in pixels\n             */\n            create: function(element, scrollHeight, iscrollOptions) {\n                var scrollable = element.find(SCROLLABLE_SEL);\n\n                scrollable.height(scrollHeight);\n                scrollable.each(function() {\n                    var $this = $(this);\n                    var iScrollInstance = $this.data('iscrollInstance');\n                    if (iScrollInstance) {\n                        $.each(iscrollHandler.iScrollInstances, function(){\n                            $(this).destroy();\n                        });\n                    }\n\n                    iScrollInstance = new IScroll($this.get(0), iscrollOptions);\n                    iscrollHandler.iScrollInstances.push(iScrollInstance);\n\n                    //off by default until the section gets active\n                    iScrollInstance.wheelOff();\n\n                    $this.data('iscrollInstance', iScrollInstance);\n                });\n            },\n\n            /**\n             * Return a boolean depending on whether the scrollable element is a\n             * the end or at the start of the scrolling depending on the given type.\n             *\n             * @param  {String}  type       Either 'top' or 'bottom'\n             * @param  {Object}  scrollable jQuery object for the scrollable element\n             * @return {Boolean}\n             */\n            isScrolled: function(type, scrollable) {\n                var scroller = scrollable.data('iscrollInstance');\n\n                //no scroller?\n                if (!scroller) {\n                    return true;\n                }\n\n                if (type === 'top') {\n                    return scroller.y >= 0 && !scrollable.scrollTop();\n                } else if (type === 'bottom') {\n                    return (0 - scroller.y) + scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;\n                }\n            },\n\n            /**\n             * Returns the scrollable element for the given section.\n             * If there are landscape slides, will only return a scrollable element\n             * if it is in the active slide.\n             *\n             * @param  {Object}  activeSection jQuery object containing current section\n             * @return {Boolean}\n             */\n            scrollable: function(activeSection){\n                // if there are landscape slides, we check if the scrolling bar is in the current one or not\n                if (activeSection.find(SLIDES_WRAPPER_SEL).length) {\n                    return activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL);\n                }\n                return activeSection.find(SCROLLABLE_SEL);\n            },\n\n            /**\n             * Returns the scroll height of the wrapped content.\n             * If this is larger than the window height minus section padding,\n             * overflow scrolling is needed.\n             *\n             * @param  {Object} element jQuery object containing current section\n             * @return {Number}\n             */\n            scrollHeight: function(element) {\n                return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight;\n            },\n\n            /**\n             * Called when overflow scrolling is no longer needed for a section.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             */\n            remove: function(element) {\n                var scrollable = element.find(SCROLLABLE_SEL);\n                if (scrollable.length) {\n                    var iScrollInstance = scrollable.data('iscrollInstance');\n                    iScrollInstance.destroy();\n\n                    scrollable.data('iscrollInstance', null);\n                }\n                element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap();\n            },\n\n            /**\n             * Called when overflow scrolling has already been setup but the\n             * window height has potentially changed.\n             *\n             * @param  {Object} element      jQuery object containing current section\n             * @param  {Number} scrollHeight Current window height in pixels\n             */\n            update: function(element, scrollHeight) {\n                //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a\n                //short period of time.\n                //it also comes on handy because iScroll requires the use of timeout when using `refresh`.\n                clearTimeout(iscrollHandler.refreshId);\n                iscrollHandler.refreshId = setTimeout(function(){\n                    $.each(iscrollHandler.iScrollInstances, function(){\n                        $(this).get(0).refresh();\n\n                        //ugly hack that we are forced to use due to the timeout delay\n                        //otherwise done on the fullpage.js reBuild function\n                        $.fn.fullpage.silentMoveTo($(SECTION_ACTIVE_SEL).index() + 1);\n                    });\n                }, 150);\n\n                //updating the wrappers height\n                element.find(SCROLLABLE_SEL)\n                    .css('height', scrollHeight + 'px')\n                    .parent().css('height', scrollHeight + getPaddings(element) + 'px');\n            },\n\n            /**\n             * Called to get any additional elements needed to wrap the section\n             * content in order to facilitate overflow scrolling.\n             *\n             * @return {String|Object} Can be a string containing HTML,\n             *                         a DOM element, or jQuery object.\n             */\n            wrapContent: function() {\n                return '<div class=\"' + SCROLLABLE + '\"><div class=\"fp-scroller\"></div></div>';\n            }\n        };\n\n        return {\n            iscrollHandler: iscrollHandler\n        };\n    })();\n})(window, document, jQuery);"],"mappings":"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"},"metadata":{},"sourceType":"script"}